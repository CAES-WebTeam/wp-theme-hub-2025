(()=>{function e(){document.querySelectorAll(".responsitable-wrapper").forEach((e=>{const t=e.querySelector("table");t&&(e.classList.remove("responsitable-scroll"),t.scrollWidth>e.clientWidth&&e.classList.add("responsitable-scroll"))}))}document.addEventListener("DOMContentLoaded",(function(){const t=document.createElement("a");t.classList.add("caes-hub-to-top"),t.href="#",t.innerHTML="<span>Back to top</span>",document.querySelector("main").appendChild(t),window.addEventListener("scroll",(function(){window.scrollY>window.innerHeight/2?t.classList.contains("caes-hub-to-top-visible")||t.classList.add("caes-hub-to-top-visible"):t.classList.contains("caes-hub-to-top-visible")&&(t.classList.add("caes-hub-to-top-hide"),setTimeout((()=>{t.classList.remove("caes-hub-to-top-visible","caes-hub-to-top-hide")}),250))})),t.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),document.querySelectorAll(".post, .entry-content").forEach((e=>{e.querySelectorAll("p").forEach((e=>{""===e.innerHTML.replace(/<br\s*\/?>/gi,"").replace(/&#13;/g,"").replace(/&nbsp;/gi,"").trim()&&e.remove()}))}));const l=document.querySelector(".classic-content-wrapper");if(!l)return;const c=e=>Array.from(e.classList).some((e=>e.startsWith("wp-"))),s=(e,t)=>{[{cls:"align-left",legacy:"legacy-figure-left"},{cls:"align-right",legacy:"legacy-figure-right"},{cls:"center",legacy:"legacy-figure-center"},{cls:"image-left",legacy:"legacy-figure-left"},{cls:"image-right",legacy:"legacy-figure-right"},{cls:"image-center",legacy:"legacy-figure-center"}].forEach((({cls:l,legacy:c})=>{e.classList.contains(l)&&(t.classList.add(c),e.classList.remove(l))}))};l.querySelectorAll("figure").forEach((e=>{c(e)||(e.classList.add("legacy-figure"),s(e,e),e.querySelectorAll("img.legacy-image").forEach((t=>{s(t,e)})))})),l.querySelectorAll("img").forEach((e=>{if(!c(e)&&(e.classList.add("legacy-image"),!e.closest("figure"))){const t=document.createElement("figure");t.classList.add("legacy-figure"),e.parentNode.insertBefore(t,e),t.appendChild(e),s(e,t)}})),l.querySelectorAll("div.left, div.right").forEach((e=>{c(e)||e.classList.add("legacy-div");const t=e.querySelector("img.image-left, img.image-right"),l=t?.closest("figure.legacy-figure");t&&l&&s(t,l)})),l.querySelectorAll("table").forEach((e=>{c(e)||(e.classList.add("legacy-table"),e.classList.contains("responsitable")&&e.classList.remove("responsitable"))})),l.querySelectorAll("table.legacy-table").forEach((e=>{if(e.closest("figure"))return;const t=document.createElement("figure");t.classList.add("legacy-figure"),e.parentNode.insertBefore(t,e),t.appendChild(e);const l=e.querySelector("caption");if(l){const e=document.createElement("figcaption");e.classList.add("legacy-table-caption"),e.textContent=l.textContent,l.remove(),t.appendChild(e)}})),l.querySelectorAll("figcaption").forEach((e=>{const t=e.nextElementSibling;t&&(t.classList.contains("responsitable-wrapper")||"TABLE"===t.tagName)&&e.classList.add("legacy-table-caption")})),l.querySelectorAll("dl").forEach((e=>{c(e)||e.classList.add("legacy-dl")})),document.querySelectorAll("figure > table, .wp-block-table").forEach((e=>{const t=e.closest("figure")||e;if(t.parentElement.classList.contains("responsitable-wrapper"))return;const l=document.createElement("div");l.classList.add("responsitable-wrapper"),t.parentNode.insertBefore(l,t),l.appendChild(t)})),e()})),window.addEventListener("resize",e)})();