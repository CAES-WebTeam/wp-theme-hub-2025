document.addEventListener("DOMContentLoaded",(function(){const e=document.createElement("a");e.classList.add("caes-hub-to-top"),e.href="#",e.innerHTML="<span>Back to top</span>",document.querySelector("main").appendChild(e),window.addEventListener("scroll",(function(){window.scrollY>window.innerHeight/2?e.classList.contains("caes-hub-to-top-visible")||e.classList.add("caes-hub-to-top-visible"):e.classList.contains("caes-hub-to-top-visible")&&(e.classList.add("caes-hub-to-top-hide"),setTimeout((()=>{e.classList.remove("caes-hub-to-top-visible","caes-hub-to-top-hide")}),250))})),e.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),document.querySelectorAll(".single-post .wp-block-post-content table:not(.wp-block-table table),.single-publications .wp-block-post-content table:not(.wp-block-table table)").forEach((e=>{if(!e.closest("figure.wp-block-table")){const t=document.createElement("div");t.classList.add("responsitable-wrapper"),e.parentNode.insertBefore(t,e),t.appendChild(e)}})),requestAnimationFrame((()=>{document.querySelectorAll(".wp-block-post-content table").forEach((e=>{let t=e.closest(".responsitable-wrapper");if(!t){const l=e.cloneNode(!0);l.style.position="absolute",l.style.visibility="hidden",l.style.height="auto",l.style.width="auto",l.style.maxWidth="none",document.body.appendChild(l);const c=l.scrollWidth>l.clientWidth;document.body.removeChild(l),c&&(t=document.createElement("div"),t.classList.add("responsitable-wrapper"),e.parentNode.insertBefore(t,e),t.appendChild(e))}if(t&&!t.querySelector(".responsitable-scroll-note")){const l=document.createElement("p");l.innerHTML='<em class="responsitable-scroll-note">(Scroll right for more)</em>',t.insertBefore(l,e)}}))})),document.querySelectorAll(".post, .entry-content").forEach((e=>{e.querySelectorAll("p").forEach((e=>{""===e.innerHTML.replace(/<br\s*\/?>/gi,"").replace(/&#13;/g,"").replace(/&nbsp;/gi,"").trim()&&e.remove()}))}));const t=document.querySelector(".classic-content-wrapper");if(!t)return;const l=e=>Array.from(e.classList).some((e=>e.startsWith("wp-"))),c=(e,t)=>{[{cls:"align-left",legacy:"legacy-figure-left"},{cls:"align-right",legacy:"legacy-figure-right"},{cls:"center",legacy:"legacy-figure-center"},{cls:"image-left",legacy:"legacy-figure-left"},{cls:"image-right",legacy:"legacy-figure-right"},{cls:"image-center",legacy:"legacy-figure-center"}].forEach((({cls:l,legacy:c})=>{e.classList.contains(l)&&(t.classList.add(c),e.classList.remove(l))}))};t.querySelectorAll("figure").forEach((e=>{l(e)||(e.classList.add("legacy-figure"),c(e,e),e.querySelectorAll("img.legacy-image").forEach((t=>{c(t,e)})))})),t.querySelectorAll("img").forEach((e=>{if(!l(e)&&(e.classList.add("legacy-image"),!e.closest("figure"))){const t=document.createElement("figure");t.classList.add("legacy-figure"),e.parentNode.insertBefore(t,e),t.appendChild(e),c(e,t)}})),t.querySelectorAll("div.left, div.right").forEach((e=>{l(e)||e.classList.add("legacy-div");const t=e.querySelector("img.image-left, img.image-right"),s=t?.closest("figure.legacy-figure");t&&s&&c(t,s)})),t.querySelectorAll("table").forEach((e=>{l(e)||e.classList.add("legacy-table")})),t.querySelectorAll("figcaption").forEach((e=>{const t=e.nextElementSibling;t&&(t.classList.contains("responsitable-wrapper")||"TABLE"===t.tagName)&&e.classList.add("legacy-table-caption")}))}));