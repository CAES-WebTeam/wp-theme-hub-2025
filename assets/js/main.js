(()=>{"use strict";const e=['a:not([inert]):not([tabindex^="-"])','button:not([inert]):not([tabindex^="-"]):not(:disabled)','[tabindex]:not([inert]):not([tabindex^="-"])'],t=window,s=()=>t.innerWidth-document.documentElement.clientWidth,n=e=>{if(e.querySelector("img")&&null!==e.querySelector(".parvus-zoom__indicator")){const t=e.querySelector(".parvus-zoom__indicator");e.removeChild(t)}};var r={lightboxLabel:"This is a dialog window that overlays the main content of the page. The modal displays the enlarged image. Pressing the Escape key will close the modal and bring you back to where you were on the page.",lightboxLoadingIndicatorLabel:"Image loading",lightboxLoadingError:"The requested image cannot be loaded.",controlsLabel:"Controls",previousButtonLabel:"Previous image",nextButtonLabel:"Next image",closeButtonLabel:"Close dialog window",sliderLabel:"Images",slideLabel:"Image"};function i(t){const i=window,a={triggerElements:[],slider:null,sliderElements:[],contentElements:[]},o={},l=new Map;let d=0,c=null,u=null,p=0,m={},g=null,b=null,h=1,v=null,f=null,E=null,y=null,w=null,A=null,L=null,_=null,x={},S=!1,C=!1,k=!1,N=1,M=!1,I=!1,T=0,q=null,B=null,$=null,O=!1,z=!0;const Y=i.matchMedia("(prefers-reduced-motion)"),X=()=>{z=!!Y.matches},D=e=>{if(e.dataset.group)return e.dataset.group;const t="default-"+d++;return e.dataset.group=t,t},H=e=>{const t="A"===e.tagName&&e.hasAttribute("href"),s="BUTTON"===e.tagName&&e.hasAttribute("data-target");if(!t&&!s)throw new Error("Use a link with the 'href' attribute or a button with the 'data-target' attribute. Both attributes must contain a path to the image file.");if(g||P(),c=D(e),o[c]||(o[c]=structuredClone(a)),o[c].triggerElements.includes(e))throw new Error("Ups, element already added.");if(o[c].triggerElements.push(e),m.zoomIndicator&&((e,t)=>{if(e.querySelector("img")&&null===e.querySelector(".parvus-zoom__indicator")){const s=document.createElement("div");s.className="parvus-zoom__indicator",s.innerHTML=t.lightboxIndicatorIcon,e.appendChild(s)}})(e,m),e.classList.add("parvus-trigger"),e.addEventListener("click",le),ve()&&c===u){const t=o[c].triggerElements.indexOf(e);j(t),R(e,t,(()=>{U(t)})),re(),te(),se()}},P=()=>{const e=document.createDocumentFragment();g=document.createElement("dialog"),g.setAttribute("role","dialog"),g.setAttribute("aria-modal","true"),g.setAttribute("aria-label",m.l10n.lightboxLabel),g.classList.add("parvus"),b=document.createElement("div"),b.classList.add("parvus__overlay"),v=document.createElement("div"),v.className="parvus__toolbar",f=document.createElement("div"),E=document.createElement("div"),y=document.createElement("div"),y.className="parvus__controls",y.setAttribute("role","group"),y.setAttribute("aria-label",m.l10n.controlsLabel),L=document.createElement("button"),L.className="parvus__btn parvus__btn--close",L.setAttribute("type","button"),L.setAttribute("aria-label",m.l10n.closeButtonLabel),L.innerHTML=m.closeButtonIcon,w=document.createElement("button"),w.className="parvus__btn parvus__btn--previous",w.setAttribute("type","button"),w.setAttribute("aria-label",m.l10n.previousButtonLabel),w.innerHTML=m.previousButtonIcon,A=document.createElement("button"),A.className="parvus__btn parvus__btn--next",A.setAttribute("type","button"),A.setAttribute("aria-label",m.l10n.nextButtonLabel),A.innerHTML=m.nextButtonIcon,_=document.createElement("div"),_.className="parvus__counter",y.append(L,w,A),f.appendChild(_),E.appendChild(y),v.append(f,E),g.append(b,v),e.appendChild(g),document.body.appendChild(e)},j=e=>{if(void 0!==o[u].sliderElements[e])return;const t=document.createDocumentFragment(),s=document.createElement("div"),n=document.createElement("div"),r=o[u],i=r.triggerElements.length;if(s.className="parvus__slide",s.style.cssText=`\n      position: absolute;\n      left: ${100*e}%;\n    `,s.setAttribute("aria-hidden","true"),i>1&&(s.setAttribute("role","group"),s.setAttribute("aria-label",`${m.l10n.slideLabel} ${e+1}/${i}`)),s.appendChild(n),t.appendChild(s),r.sliderElements[e]=s,e>=p){const t=(e=>{const t=o[u].sliderElements,s=t.length;for(let n=e+1;n<s;n++)if(void 0!==t[n])return n;return-1})(e);-1!==t?r.sliderElements[t].before(s):r.slider.appendChild(s)}else{const t=(e=>{const t=o[u].sliderElements;for(let s=e-1;s>=0;s--)if(void 0!==t[s])return s;return-1})(e);-1!==t?r.sliderElements[t].after(s):r.slider.prepend(s)}},F=e=>{if(!g||!e||!e.classList.contains("parvus-trigger")||ve())return;u=D(e);const t=o[u],n=t.triggerElements.indexOf(e);if(-1===n)throw new Error("Ups, element not found in group.");p=n,history.pushState({parvus:"close"},"Image",window.location.href),be(),m.hideScrollbar&&(document.body.style.marginInlineEnd=`${s()}px`,document.body.style.overflow="hidden"),g.classList.add("parvus--is-opening"),g.showModal(),(()=>{const e=document.createElement("div");e.className="parvus__slider",o[u].slider=e,g.appendChild(e)})(),j(p),ee(),re(),te(),se(),V(p),R(e,p,(()=>{U(p,!0),g.classList.remove("parvus--is-opening"),t.slider.classList.add("parvus__slider--animate")})),G(p+1),G(p-1),fe("open")},W=()=>{if(!ve())return;const e=o[u].contentElements[p],t=o[u].triggerElements[p];he(),ne(),"close"===history.state?.parvus&&history.back(),g.classList.add("parvus--is-closing");const s=()=>{M&&oe(e),Z(p),g.close(),g.classList.remove("parvus--is-closing"),g.classList.remove("parvus--is-vertical-closing"),o[u].slider.remove(),o[u].slider=null,o[u].sliderElements=[],o[u].contentElements=[],_.removeAttribute("aria-hidden"),w.removeAttribute("aria-hidden"),w.removeAttribute("aria-disabled"),A.removeAttribute("aria-hidden"),A.removeAttribute("aria-disabled"),m.hideScrollbar&&(document.body.style.marginInlineEnd="",document.body.style.overflow="")};e&&"IMG"===e.tagName?document.startViewTransition?(e.style.viewTransitionName="lightboximage",document.startViewTransition((()=>{e.style.opacity="0",e.style.viewTransitionName=null,t.style.viewTransitionName="lightboximage"})).finished.finally((()=>{s(),t.style.viewTransitionName=null}))):(e.style.opacity="0",requestAnimationFrame(s)):s()},G=e=>{e<0||e>=o[u].triggerElements.length||void 0!==o[u].sliderElements[e]||(j(e),R(o[u].triggerElements[e],e,(()=>{U(e)})))},V=e=>{o[u].sliderElements[e].setAttribute("aria-hidden","false")},R=(e,t,s)=>{const{contentElements:n,sliderElements:r}=o[u];if(void 0!==n[t])return void(s&&"function"==typeof s&&s());const i=r[t].querySelector("div"),a=new Image,l=document.createElement("div"),d=e.querySelector("img"),c=document.createElement("div");l.className="parvus__content",c.className="parvus__loader",c.setAttribute("role","progressbar"),c.setAttribute("aria-label",m.l10n.lightboxLoadingIndicatorLabel),i.appendChild(c),new Promise(((e,t)=>{a.onload=()=>e(a),a.onerror=e=>t(e)})).then((s=>{s.style.opacity=0,l.appendChild(s),i.appendChild(l),m.captions&&((e,t,s,n)=>{const r=document.createElement("div");let i=null;if(r.className="parvus__caption","self"===m.captionsSelector)s.hasAttribute(m.captionsAttribute)&&""!==s.getAttribute(m.captionsAttribute)&&(i=s.getAttribute(m.captionsAttribute));else{const e=s.querySelector(m.captionsSelector);null!==e&&(i=e.hasAttribute(m.captionsAttribute)&&""!==e.getAttribute(m.captionsAttribute)?e.getAttribute(m.captionsAttribute):e.innerHTML)}if(null!==i){const s=`parvus__caption-${n}`;r.id=s,r.innerHTML=`<p>${i}</p>`,e.appendChild(r),t.setAttribute("aria-describedby",s)}})(i,a,e,t),n[t]=s,s.setAttribute("width",s.naturalWidth),s.setAttribute("height",s.naturalHeight),ae(r[t],s)})).catch((()=>{const e=document.createElement("div");e.classList.add("parvus__content"),e.classList.add("parvus__content--error"),e.textContent=m.l10n.lightboxLoadingError,i.appendChild(e),n[t]=e})).finally((()=>{i.removeChild(c),s&&"function"==typeof s&&s()})),e.hasAttribute("data-sizes")&&""!==e.getAttribute("data-sizes")&&a.setAttribute("sizes",e.getAttribute("data-sizes")),e.hasAttribute("data-srcset")&&""!==e.getAttribute("data-srcset")&&a.setAttribute("srcset",e.getAttribute("data-srcset")),"A"===e.tagName?a.setAttribute("src",e.href):a.setAttribute("src",e.getAttribute("data-target")),d&&d.hasAttribute("alt")&&""!==d.getAttribute("alt")?a.alt=d.alt:e.hasAttribute("data-alt")&&""!==e.getAttribute("data-alt")?a.alt=e.getAttribute("data-alt"):a.alt=""},U=(e,t)=>{const s=o[u].contentElements[e];if(s&&"IMG"===s.tagName){const n=o[u].triggerElements[e];t&&document.startViewTransition?(n.style.viewTransitionName="lightboximage",document.startViewTransition((()=>{s.style.opacity="",n.style.viewTransitionName=null,s.style.viewTransitionName="lightboximage"})).finished.finally((()=>{s.style.viewTransitionName=null}))):s.style.opacity=""}else s.style.opacity=""},J=e=>{if(!ve())throw new Error("Oops, I'm closed.");if("number"!=typeof e||isNaN(e))throw new Error("Oops, no slide specified.");const t=o[u],s=t.triggerElements;if(e===p)throw new Error(`Oops, slide ${e} is already selected.`);if(e<0||e>=s.length)throw new Error(`Oops, I can't find slide ${e}.`);const n=p;p=e,t.sliderElements[e]||(j(e),R(t.triggerElements[e],e,(()=>{U(e)}))),V(e),ee(),te(),se(),G(e<n?e-1:e+1),Z(n),fe("select")},K=()=>{p>0&&J(p-1)},Q=()=>{const{triggerElements:e}=o[u];p<e.length-1&&J(p+1)},Z=e=>{void 0!==o[u].sliderElements[e]&&o[u].sliderElements[e].setAttribute("aria-hidden","true")},ee=()=>{u=null!==u?u:c,B=-p*g.offsetWidth,o[u].slider.style.transform=`translate3d(${B}px, 0, 0)`,$=B},te=()=>{const{triggerElements:e}=o[u],t=e.length;if(t<=1)return;const s=p===t-1,n=0===p?"true":null;"true"===w.getAttribute("aria-disabled")!=!!n&&(n?w.setAttribute("aria-disabled","true"):w.removeAttribute("aria-disabled"));const r=s?"true":null;"true"===A.getAttribute("aria-disabled")!=!!r&&(r?A.setAttribute("aria-disabled","true"):A.removeAttribute("aria-disabled"))},se=()=>{_.textContent=`${p+1}/${o[u].triggerElements.length}`},ne=()=>{x={startX:0,endX:0,startY:0,endY:0}},re=()=>{const e=o[u].triggerElements.length,t=o[u].slider,s=o[u].sliderElements,n=t.classList.contains("parvus__slider--is-draggable");m.simulateTouch&&m.swipeClose&&!n||m.simulateTouch&&e>1&&!n?t.classList.add("parvus__slider--is-draggable"):t.classList.remove("parvus__slider--is-draggable"),e>1?(t.setAttribute("role","region"),t.setAttribute("aria-roledescription","carousel"),t.setAttribute("aria-label",m.l10n.sliderLabel),s.forEach(((t,s)=>{t.setAttribute("role","group"),t.setAttribute("aria-label",`${m.l10n.slideLabel} ${s+1}/${e}`)}))):(t.removeAttribute("role"),t.removeAttribute("aria-roledescription"),t.removeAttribute("aria-label"),s.forEach((e=>{e.removeAttribute("role"),e.removeAttribute("aria-label")}))),1===e?(_.setAttribute("aria-hidden","true"),w.setAttribute("aria-hidden","true"),A.setAttribute("aria-hidden","true")):(_.removeAttribute("aria-hidden"),w.removeAttribute("aria-hidden"),A.removeAttribute("aria-hidden"))},ie=()=>{O||(O=!0,i.requestAnimationFrame((()=>{o[u].sliderElements.forEach(((e,t)=>{ae(e,o[u].contentElements[t])})),ee(),O=!1})))},ae=(e,t)=>{if("IMG"!==t.tagName)return;const s=t.getAttribute("height"),n=t.getAttribute("width");if(!s||!n)return;const r=getComputedStyle(e),i=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),a=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),o=e.querySelector(".parvus__caption"),l=o?o.getBoundingClientRect().height:0,d=e.offsetWidth-i,c=e.offsetHeight-a-l,u=Math.min(d/n||0,c/s||0),p=n*u,m=s*u,g=n<=d&&s<=c;t.style.width=g?"":`${p}px`,t.style.height=g?"":`${m}px`},oe=e=>{e.style.transition="transform 0.3s ease",e.style.transform="",setTimeout((()=>{e.style.transition="",e.style.transformOrigin=""}),300),M=!1,I=!1,N=1,T=0,q="",g.classList.remove("parvus--is-zooming")},le=function(e){e.preventDefault(),F(this)},de=e=>{const{target:t}=e;t===w?K():t===A?Q():(t===L||m.docClose&&!C&&!S&&t.classList.contains("parvus__slide"))&&W(),e.stopPropagation()},ce=t=>{const s=(n=g,Array.from(n.querySelectorAll(e.join(", "))).filter((e=>null!==e.offsetParent)));var n;const r=s.indexOf(document.activeElement),i=s.length-1;switch(t.code){case"Tab":t.shiftKey?0===r&&(s[i].focus(),t.preventDefault()):r===i&&(s[0].focus(),t.preventDefault());break;case"Escape":W(),t.preventDefault();break;case"ArrowLeft":K(),t.preventDefault();break;case"ArrowRight":Q(),t.preventDefault()}},ue=e=>{e.preventDefault(),e.stopPropagation(),S=!1,C=!1,k=!0,l.set(e.pointerId,e),x.startX=e.pageX,x.startY=e.pageY,x.endX=e.pageX,x.endY=e.pageY;const{slider:t}=o[u];t.classList.add("parvus__slider--is-dragging"),t.style.willChange="transform",I=1===l.size,m.swipeClose&&(h=getComputedStyle(b).opacity)},pe=e=>{if(e.preventDefault(),!k)return;const t=o[u].contentElements[p];if(l.set(e.pointerId,e),t&&"IMG"===t.tagName){if(2===l.size)return void(e=>{const t=Array.from(l.values()),s=Math.hypot(t[1].clientX-t[0].clientX,t[1].clientY-t[0].clientY),n=(t[0].clientX+t[1].clientX)/2,r=(t[0].clientY+t[1].clientY)/2,i=e.getBoundingClientRect(),a=(n-i.left)/i.width,o=(r-i.top)/i.height,d=t.map((e=>e.pointerId)).sort().join("-"),c=q!==d;M&&!c||(M=!0,q=d,T=s/N,(!e.style.transformOrigin&&1===N||1===N&&c)&&(e.style.transformOrigin=`${100*a}% ${100*o}%`),g.classList.add("parvus--is-zooming"));const u=s/T;N=Math.min(Math.max(1,u),3),e.style.willChange="transform",e.style.transform=`scale(${N})`})(t);if(N>1)return}x.endX=e.pageX,x.endY=e.pageY,ge()},me=e=>{e.stopPropagation();const{slider:t}=o[u];if(l.delete(e.pointerId),l.size>0)return;k=!1;const s=o[u].contentElements[p],n=Math.abs(x.endX-x.startX),r=Math.abs(x.endY-x.startY),i=n<8&&r<8&&!S&&!C&&I;t.classList.remove("parvus__slider--is-dragging"),t.style.willChange="",N>1?i?oe(s):s.style.transform=`\n          scale(${N})\n        `:(M&&oe(s),(x.endX||x.endY)&&(()=>{const{startX:e,startY:t,endX:s,endY:n}=x,r=s-e,i=n-t,a=Math.abs(r),l=Math.abs(i),{triggerElements:d}=o[u],c=d.length;if(S){const e=r>0;a>=m.threshold&&(e&&p>0?K():!e&&p<c-1&&Q()),ee()}else C?(l>=m.threshold&&m.swipeClose?W():(g.classList.remove("parvus--is-vertical-closing"),ee()),b.style.opacity=""):ee()})()),ne()},ge=()=>{const{startX:e,endX:t,startY:s,endY:n}=x,r=e-t,i=n-s,a=Math.abs(r),l=Math.abs(i),d=o[u],c=d.slider,v=d.triggerElements.length,f=(e,t)=>{if(0===p&&e<0||p===v-1&&e>0){const s=e*(1/(1+Math.pow(t/100,.15)));c.style.transform=`\n          translate3d(${$-Math.round(s)}px, 0, 0)\n        `}else c.style.transform=`\n          translate3d(${$-Math.round(e)}px, 0, 0)\n        `},E=(e,t)=>{if(!z&&t<=100){const e=Math.max(0,h-t/100);b.style.opacity=e}g.classList.add("parvus--is-vertical-closing"),c.style.transform=`\n        translate3d(${$}px, ${Math.round(e)}px, 0)\n      `};S||C?S?f(r,a):C&&E(i,l):(a>1.5||l>1.5)&&(a>1.15*l&&v>1?(S=!0,C=!1,f(r,a)):l>1.15*a&&m.swipeClose&&(S=!1,C=!0,E(i,l)))},be=()=>{i.addEventListener("keydown",ce),i.addEventListener("resize",ie),i.addEventListener("popstate",W),Y.addEventListener("change",X),g.addEventListener("click",de),g.addEventListener("pointerdown",ue,{passive:!1}),g.addEventListener("pointerup",me,{passive:!0}),g.addEventListener("pointermove",pe,{passive:!1})},he=()=>{i.removeEventListener("keydown",ce),i.removeEventListener("resize",ie),i.removeEventListener("popstate",W),Y.removeEventListener("change",X),g.removeEventListener("click",de),g.removeEventListener("pointerdown",ue),g.removeEventListener("pointerup",me),g.removeEventListener("pointermove",pe)},ve=()=>g.hasAttribute("open"),fe=e=>{const t=new CustomEvent(e,{cancelable:!0});g.dispatchEvent(t)},Ee=()=>{m=(e=>{const t={selector:".lightbox",gallerySelector:null,zoomIndicator:!0,captions:!0,captionsSelector:"self",captionsAttribute:"data-caption",docClose:!0,swipeClose:!0,simulateTouch:!0,threshold:50,hideScrollbar:!0,lightboxIndicatorIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke="currentColor"><path d="M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3"/></svg>',previousButtonIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke="currentColor"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18" /></svg>',nextButtonIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke="currentColor"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="9 6 15 12 9 18" /></svg>',closeButtonIcon:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" aria-hidden="true" focusable="false" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke="currentColor"><path d="M18 6L6 18M6 6l12 12"/></svg>',l10n:r},s={...t,...e};return e&&e.l10n&&(s.l10n={...t.l10n,...e.l10n}),s})(t),X(),null!==m.gallerySelector&&document.querySelectorAll(m.gallerySelector).forEach(((e,t)=>{const s=t;e.querySelectorAll(m.selector).forEach((e=>{e.setAttribute("data-group",`parvus-gallery-${s}`),H(e)}))})),document.querySelectorAll(`${m.selector}:not(.parvus-trigger)`).forEach(H)};return Ee(),{init:Ee,open:F,close:W,select:J,previous:K,next:Q,currentIndex:()=>p,add:H,remove:e=>{if(!e||!e.hasAttribute("data-group"))return;const t=D(e),s=o[t];if(!s)return;const r=s.triggerElements.indexOf(e);if(-1===r)return;const i=ve()&&t===u&&r===p;if(s.contentElements[r]){const e=s.contentElements[r];"IMG"===e.tagName&&(e.src="",e.srcset="")}const a=s.sliderElements[r];a&&a.parentNode&&a.parentNode.removeChild(a),s.triggerElements.splice(r,1),s.sliderElements.splice(r,1),s.contentElements.splice(r,1),m.zoomIndicator&&n(e),ve()&&t===u&&(i?0===s.triggerElements.length?W():p>=s.triggerElements.length?J(s.triggerElements.length-1):(re(),te(),se()):r<p?(p--,re(),te(),se()):(re(),te(),se())),e.removeEventListener("click",le),e.classList.remove("parvus-trigger")},destroy:()=>{g&&(ve()&&W(),setTimeout((()=>{he(),["open","close","select","destroy"].forEach((e=>{(g._listeners?.[e]||[]).forEach((t=>{g.removeEventListener(e,t)}))})),document.querySelectorAll(".parvus-trigger").forEach((e=>{e.removeEventListener("click",le),e.classList.remove("parvus-trigger"),m.zoomIndicator&&n(e),e.dataset.group&&delete e.dataset.group})),fe("destroy"),g.remove(),g=null,b=null,v=null,f=null,E=null,y=null,w=null,A=null,L=null,_=null,Object.keys(o).forEach((e=>{const t=o[e];t&&t.contentElements&&t.contentElements.forEach((e=>{e&&"IMG"===e.tagName&&(e.src="",e.srcset="")})),delete o[e]})),d=0,c=null,u=null,p=0}),1e3))},isOpen:ve,on:(e,t)=>{g&&g.addEventListener(e,t)},off:(e,t)=>{g&&g.removeEventListener(e,t)}}}function a(){document.querySelectorAll(".responsitable-wrapper").forEach((e=>{const t=e.querySelector("table");t&&(e.classList.remove("responsitable-scroll"),t.scrollWidth>e.clientWidth&&e.classList.add("responsitable-scroll"))}))}document.addEventListener("DOMContentLoaded",(function(){const e=document.createElement("a");e.classList.add("caes-hub-to-top"),e.href="#",e.innerHTML="<span>Back to top</span>",document.querySelector("main").appendChild(e),window.addEventListener("scroll",(function(){window.scrollY>window.innerHeight/2?e.classList.contains("caes-hub-to-top-visible")||e.classList.add("caes-hub-to-top-visible"):e.classList.contains("caes-hub-to-top-visible")&&(e.classList.add("caes-hub-to-top-hide"),setTimeout((()=>{e.classList.remove("caes-hub-to-top-visible","caes-hub-to-top-hide")}),250))})),e.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})),document.querySelectorAll(".post, .entry-content").forEach((e=>{e.querySelectorAll("p").forEach((e=>{""===e.innerHTML.replace(/<br\s*\/?>/gi,"").replace(/&#13;/g,"").replace(/&nbsp;/gi,"").trim()&&e.remove()}))}));const t=document.querySelectorAll('.wp-block-image a[href*=".webp"],.wp-block-image a[href*=".jpg"],.wp-block-image a[href*=".jpeg"],.wp-block-image a[href*=".png"],.wp-block-image a[href*=".gif"]');for(const e of t){e.classList.add("lightbox");const t=e.nextElementSibling;if(t&&t.classList.contains("wp-element-caption")){const s=t.innerHTML;e.setAttribute("data-caption",s)}}new i({gallerySelector:".wp-block-gallery, .parvus-gallery"});const s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(console.log("ðŸ” Safari Detection:",s?"YES - Safari":"NO - Not Safari"),s){console.log("âœ… Safari fix activated");const e=document.createElement("style");e.id="safari-parvus-fix",e.textContent="\n      body.parvus-is-open {\n        -webkit-transform: translate3d(0, 0, 0) !important;\n        transform: translate3d(0, 0, 0) !important;\n        -webkit-backface-visibility: hidden !important;\n        backface-visibility: hidden !important;\n      }\n      \n      body.parvus-disable-transitions ::view-transition,\n      body.parvus-disable-transitions ::view-transition-group(*),\n      body.parvus-disable-transitions ::view-transition-image-pair(*),\n      body.parvus-disable-transitions ::view-transition-old(*),\n      body.parvus-disable-transitions ::view-transition-new(*) {\n        display: none !important;\n      }\n    ",document.head.appendChild(e),console.log("âœ… Safari fix CSS injected"),new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e.classList&&e.classList.contains("parvus")&&(console.log("ðŸŽ¯ Parvus element detected in DOM!"),new MutationObserver((()=>{const t=e.hasAttribute("open");console.log("ðŸ”” Parvus open attribute changed:",t?"OPEN":"CLOSED"),t?(console.log("âž• Adding body classes: parvus-is-open, parvus-disable-transitions"),document.body.classList.add("parvus-is-open","parvus-disable-transitions"),console.log("Body classes now:",document.body.className)):(console.log("â±ï¸ Waiting 350ms before removing body classes..."),setTimeout((()=>{console.log("âž– Removing body classes"),document.body.classList.remove("parvus-is-open","parvus-disable-transitions"),console.log("Body classes now:",document.body.className)}),350))})).observe(e,{attributes:!0,attributeFilter:["open"]}),console.log("ðŸ‘€ Now observing Parvus open attribute"),e.hasAttribute("open")&&(console.log("âš¡ Parvus is already open on detection!"),document.body.classList.add("parvus-is-open","parvus-disable-transitions")))}))}))})).observe(document.body,{childList:!0,subtree:!0}),console.log("ðŸ‘€ Now watching for Parvus to be added to DOM")}else console.log("â­ï¸ Skipping Safari fix (not Safari)");const n=document.querySelector(".classic-content-wrapper");if(n&&n.querySelectorAll("h2").forEach((e=>{e.classList.add("is-style-caes-hub-full-underline"),e.querySelectorAll("strong").forEach((e=>{for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.remove()}))})),document.querySelectorAll("table").forEach((e=>{const t=e.closest("figure")||e;if(t.parentElement.classList.contains("responsitable-wrapper"))return;const s=document.createElement("div");s.classList.add("responsitable-wrapper"),t.parentNode.insertBefore(s,t),s.appendChild(t)})),a(),document.querySelectorAll(".btn-save").forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-id"),t=this.getAttribute("data-type");let s=JSON.parse(localStorage.getItem("savedPosts"))||{};s[t]||(s[t]=[]),s[t].includes(e)?(s[t]=s[t].filter((t=>t!==e)),this.classList.remove("saved")):(s[t].push(e),this.classList.add("saved")),localStorage.setItem("savedPosts",JSON.stringify(s))}))})),"#expert-advice"===window.location.hash){document.documentElement.classList.add("no-smooth-scroll");const e=document.getElementById("expert-advice");e&&e.scrollIntoView(),setTimeout((()=>{document.documentElement.classList.remove("no-smooth-scroll")}),0)}})),window.addEventListener("resize",a)})();