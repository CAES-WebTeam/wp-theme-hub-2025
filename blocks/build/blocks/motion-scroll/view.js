document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".caes-motion-scroll").forEach((e=>{const t=e.querySelector(".motion-scroll-content"),n=e.querySelectorAll(".motion-scroll-slide"),o=parseInt(e.getAttribute("data-slide-count")||n.length,10);if(0===o||!t)return;let i=0;function r(){const e=t.getBoundingClientRect(),r=e.top,s=e.height,c=window.innerHeight,l=Math.max(0,Math.min(1,-r/(s-c))),a=Math.min(o-1,Math.floor(l*o));a!==i&&(n[i]?.classList.remove("is-active"),n[a]?.classList.add("is-active"),i=a)}let s=!1;r(),window.addEventListener("scroll",(function(){s||(window.requestAnimationFrame((()=>{r(),s=!1})),s=!0)}),{passive:!0}),"IntersectionObserver"in window&&new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&r()}))}),{threshold:0,rootMargin:"100px"}).observe(e)}))}));