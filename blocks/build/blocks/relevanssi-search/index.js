(()=>{"use strict";var e,s={7341:()=>{const e=window.wp.blocks,s=window.wp.i18n,l=window.wp.blockEditor,t=window.wp.components,o=window.wp.data,a=window.wp.element,n=window.ReactJSXRuntime,r=JSON.parse('{"UU":"caes-hub/relevanssi-search"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r}){const{showDateSort:h,showPostTypeFilter:i,showTopicFilter:c,showAuthorFilter:u,showLanguageFilter:d,showHeading:b,hideSubmitButton:_,placeholderText:p,showButton:g,buttonText:x,buttonUrl:w,postTypes:f,taxonomySlug:C,headingColor:m,headingAlignment:T,customHeading:j,resultsPageUrl:v}=e,y=(0,l.useBlockProps)(),[S,k]=(0,a.useState)([]),F=f.includes("publications"),P=(0,o.useSelect)((e=>{const{getPostTypes:s}=e("core"),l=s({per_page:-1});return l?l.filter((e=>e.viewable&&"attachment"!==e.slug&&"wp_block"!==e.slug&&"wp_template"!==e.slug&&"wp_template_part"!==e.slug&&"wp_navigation"!==e.slug&&"wp_global_styles"!==e.slug)):[]}),[]);return(0,a.useEffect)((()=>{P.length>0&&k(P)}),[P]),(0,n.jsxs)("div",{...y,children:[(0,n.jsxs)(l.InspectorControls,{children:[(0,n.jsxs)(t.PanelBody,{title:(0,s.__)("Results Page Settings","caes-hub"),children:[(0,n.jsx)(t.TextControl,{label:(0,s.__)("Results Page URL","caes-hub"),value:v,onChange:e=>r({resultsPageUrl:e}),help:(0,s.__)("Optional: Enter a URL to redirect search submissions to another page with the full search results. Leave blank to show results on the same page.","caes-hub"),placeholder:(0,s.__)("e.g., /search-results/","caes-hub")}),v&&(0,n.jsxs)("p",{className:"description",style:{marginTop:"10px",padding:"10px",backgroundColor:"#f0f6fc",border:"1px solid #c3c4c7",borderRadius:"4px"},children:[(0,n.jsx)("strong",{children:(0,s.__)("How it works:","caes-hub")}),(0,n.jsx)("br",{}),(0,s.__)('When specified, this block becomes a "search-only" form that redirects to the results page. The target page should also have this block configured with all desired filters enabled.',"caes-hub")]})]}),(0,n.jsxs)(t.PanelBody,{title:(0,s.__)("Search Input Settings","caes-hub"),children:[(0,n.jsx)(t.ToggleControl,{label:(0,s.__)("Hide Submit Button","caes-hub"),checked:_,onChange:e=>r({hideSubmitButton:e}),help:_?(0,s.__)("Submit button is hidden. Users press Return to search.","caes-hub"):(0,s.__)("Submit button is visible next to the search input.","caes-hub")}),(0,n.jsx)(t.TextControl,{label:(0,s.__)("Placeholder Text","caes-hub"),value:p,onChange:e=>r({placeholderText:e}),help:(0,s.__)('Leave blank to use default ("Search...").',"caes-hub"),placeholder:(0,s.__)("Search...","caes-hub")})]}),(0,n.jsxs)(t.PanelBody,{title:(0,s.__)("Heading Settings","caes-hub"),children:[(0,n.jsx)(t.ToggleControl,{label:(0,s.__)("Show Heading","caes-hub"),checked:b,onChange:e=>r({showHeading:e}),help:b?(0,s.__)("Heading will be displayed above the search form.","caes-hub"):(0,s.__)("Heading will be hidden.","caes-hub")}),b&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.SelectControl,{label:(0,s.__)("Text Alignment","caes-hub"),value:T,onChange:e=>r({headingAlignment:e}),options:[{label:(0,s.__)("Left","caes-hub"),value:"left"},{label:(0,s.__)("Center","caes-hub"),value:"center"},{label:(0,s.__)("Right","caes-hub"),value:"right"}]}),(0,n.jsx)(t.TextControl,{label:(0,s.__)("Custom Heading Text","caes-hub"),value:j,onChange:e=>r({customHeading:e}),help:(0,s.__)('Leave blank to use default text ("Search" or "Search results for: [query]")',"caes-hub"),placeholder:(0,s.__)("e.g., Search Expert Resources","caes-hub")})]})]}),b&&(0,n.jsx)(l.PanelColorSettings,{title:(0,s.__)("Heading Color","caes-hub"),colorSettings:[{value:m,onChange:e=>r({headingColor:e}),label:(0,s.__)("Text Color","caes-hub")}]}),(0,n.jsxs)(t.PanelBody,{title:(0,s.__)("Button Settings","caes-hub"),children:[(0,n.jsx)(t.ToggleControl,{label:(0,s.__)("Show Button","caes-hub"),checked:g,onChange:e=>r({showButton:e}),help:g?(0,s.__)("A custom button will be displayed next to the filters.","caes-hub"):(0,s.__)("No additional button will be shown.","caes-hub")}),g&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.TextControl,{label:(0,s.__)("Button Text","caes-hub"),value:x,onChange:e=>r({buttonText:e}),help:(0,s.__)("Enter the text to display on the button.","caes-hub"),placeholder:(0,s.__)("e.g., Advanced Search","caes-hub")}),(0,n.jsx)(t.TextControl,{label:(0,s.__)("Button URL","caes-hub"),value:w,onChange:e=>r({buttonUrl:e}),help:(0,s.__)("Enter the URL the button should link to.","caes-hub"),placeholder:(0,s.__)("e.g., /advanced-search/","caes-hub")})]})]}),(0,n.jsxs)(t.PanelBody,{title:(0,s.__)("Search Filter Settings","caes-hub"),children:[(0,n.jsx)(t.ToggleControl,{label:(0,s.__)("Show Date Sorting","caes-hub"),checked:h,onChange:e=>r({showDateSort:e}),help:h?(0,s.__)("Date sorting dropdown will be visible.","caes-hub"):(0,s.__)("Date sorting dropdown will be hidden.","caes-hub")}),(0,n.jsx)(t.ToggleControl,{label:(0,s.__)("Show Post Type Filter","caes-hub"),checked:i,onChange:e=>r({showPostTypeFilter:e}),help:i?(0,s.__)("Post type filter dropdown will be visible.","caes-hub"):(0,s.__)("Post type filter dropdown will be hidden.","caes-hub")}),i&&S.length>0&&(0,n.jsxs)("div",{style:{marginTop:"15px",borderTop:"1px solid #eee",paddingTop:"15px"},children:[(0,n.jsx)("p",{style:{fontWeight:"bold"},children:(0,s.__)("Select Post Types to Filter:","caes-hub")}),S.map((e=>(0,n.jsx)(t.CheckboxControl,{label:e.labels.singular_name||e.slug,checked:f.includes(e.slug),onChange:s=>{const l=s?[...f,e.slug]:f.filter((s=>s!==e.slug));r({postTypes:l})}},e.slug))),(0,n.jsx)("p",{className:"description",children:(0,s.__)("Selected post types will appear in the filter dropdown.","caes-hub")})]}),(0,n.jsx)(t.ToggleControl,{label:(0,s.__)("Show Topics Taxonomy Filter","caes-hub"),checked:c,onChange:e=>r({showTopicFilter:e}),help:c?(0,s.__)("Topics taxonomy filter (checkboxes) will be visible.","caes-hub"):(0,s.__)("Topics taxonomy filter (checkboxes) will be hidden.","caes-hub")}),c&&(0,n.jsx)(t.TextControl,{label:(0,s.__)("Custom Taxonomy Slug for Topics","caes-hub"),value:C,onChange:e=>r({taxonomySlug:e}),help:(0,s.__)('Enter the slug of your custom taxonomy (e.g., "topics").',"caes-hub")}),(0,n.jsx)(t.ToggleControl,{label:(0,s.__)("Show Author Filter","caes-hub"),checked:u,onChange:e=>r({showAuthorFilter:e}),help:u?(0,s.__)("Author filter dropdown will be visible.","caes-hub"):(0,s.__)("Author filter dropdown will be hidden.","caes-hub")}),F&&(0,n.jsx)(t.ToggleControl,{label:(0,s.__)("Show Language Filter","caes-hub"),checked:d,onChange:e=>r({showLanguageFilter:e}),help:d?(0,s.__)('Language filter (checkboxes) will be visible for publications. Uses ACF custom field "language".',"caes-hub"):(0,s.__)("Language filter (checkboxes) will be hidden.","caes-hub")})]})]}),(0,n.jsxs)("div",{className:"caes-hub-relevanssi-search-filters-editor",children:[(0,n.jsx)("p",{children:(0,s.__)("Relevanssi Search Filters Block","caes-hub")}),(0,n.jsx)("p",{children:(0,s.__)("Configure sorting and filtering options in the block settings sidebar.","caes-hub")}),v&&(0,n.jsxs)("p",{style:{backgroundColor:"#f0f6fc",padding:"10px",border:"1px solid #c3c4c7",borderRadius:"4px",marginTop:"10px"},children:[(0,n.jsx)("strong",{children:(0,s.__)("Search-only mode:","caes-hub")})," ",(0,s.__)("Redirects to","caes-hub")," ",v]}),!b&&(0,n.jsxs)("p",{style:{backgroundColor:"#fff3cd",padding:"10px",border:"1px solid #ffd60a",borderRadius:"4px",marginTop:"10px"},children:[(0,n.jsx)("strong",{children:(0,s.__)("Note:","caes-hub")})," ",(0,s.__)("Heading is hidden","caes-hub")]}),g&&(0,n.jsxs)("p",{style:{backgroundColor:"#d1ecf1",padding:"10px",border:"1px solid #bee5eb",borderRadius:"4px",marginTop:"10px"},children:[(0,n.jsx)("strong",{children:(0,s.__)("Button enabled:","caes-hub")})," ",x||(0,s.__)("(No text set)","caes-hub")," â†’ ",w||(0,s.__)("(No URL set)","caes-hub")]}),h&&(0,n.jsxs)("p",{children:[" - ",(0,s.__)("Date Sorting Enabled","caes-hub")]}),i&&(0,n.jsxs)("p",{children:[" - ",(0,s.__)("Post Type Filter Enabled","caes-hub")]}),c&&(0,n.jsxs)("p",{children:[" - ",(0,s.__)("Topics Filter Enabled (Checkboxes, Taxonomy: ","caes-hub"),C,")"]}),u&&(0,n.jsxs)("p",{children:[" - ",(0,s.__)("Author Filter Enabled","caes-hub")]}),F&&d&&(0,n.jsxs)("p",{children:[" - ",(0,s.__)("Language Filter Enabled (Checkboxes, ACF Field: language)","caes-hub")]})]})]})}})}},l={};function t(e){var o=l[e];if(void 0!==o)return o.exports;var a=l[e]={exports:{}};return s[e](a,a.exports,t),a.exports}t.m=s,e=[],t.O=(s,l,o,a)=>{if(!l){var n=1/0;for(c=0;c<e.length;c++){for(var[l,o,a]=e[c],r=!0,h=0;h<l.length;h++)(!1&a||n>=a)&&Object.keys(t.O).every((e=>t.O[e](l[h])))?l.splice(h--,1):(r=!1,a<n&&(n=a));if(r){e.splice(c--,1);var i=o();void 0!==i&&(s=i)}}return s}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[l,o,a]},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={2092:0,3188:0};t.O.j=s=>0===e[s];var s=(s,l)=>{var o,a,[n,r,h]=l,i=0;if(n.some((s=>0!==e[s]))){for(o in r)t.o(r,o)&&(t.m[o]=r[o]);if(h)var c=h(t)}for(s&&s(l);i<n.length;i++)a=n[i],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},l=globalThis.webpackChunktheme_blocks=globalThis.webpackChunktheme_blocks||[];l.forEach(s.bind(null,0)),l.push=s.bind(null,l.push.bind(l))})();var o=t.O(void 0,[3188],(()=>t(7341)));o=t.O(o)})();