{"version":3,"file":"blocks/carousel/view.js","mappings":"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","sources":["webpack://theme-blocks/./src/blocks/carousel/view.js"],"sourcesContent":["document.querySelectorAll('.wp-block-caes-hub-carousel').forEach((carousel) => {\n    const slides = carousel.querySelectorAll('.caes-hub-carousel-slide');\n    const nextButton = carousel.querySelector('.btn-next');\n    const prevButton = carousel.querySelector('.btn-prev');\n    const playPauseButton = carousel.querySelector('.btn-pause');\n    const slideNavButtons = carousel.querySelectorAll('.caes-hub-carousel-nav button');\n    const navStrip = carousel.querySelector('.caes-hub-carousel-nav ul');\n\n    const itemWidth = 200; // Each item is 200px wide\n    let currentSlide = 0;\n    let autoplay = true;\n    let intervalId;\n\n    // Live region for accessibility\n    const liveregion = document.createElement('div');\n    liveregion.setAttribute('aria-live', 'polite');\n    liveregion.setAttribute('aria-atomic', 'true');\n    liveregion.setAttribute('class', 'liveregion sr-only');\n    carousel.appendChild(liveregion);\n\n    function updateCarousel() {\n        slides.forEach((slide, index) => {\n            if (index === currentSlide) {\n                slide.style.opacity = '1';\n                slide.style.visibility = 'visible';\n                slide.setAttribute('aria-hidden', 'false');\n            } else {\n                slide.style.opacity = '0';\n                slide.style.visibility = 'hidden';\n                slide.setAttribute('aria-hidden', 'true');\n            }\n        });\n\n        slideNavButtons.forEach((button, index) => {\n            button.classList.toggle('current', index === currentSlide);\n        });\n\n        // Calculate the amount to translate based on the currentSlide\n        const translateValue = -((currentSlide - 1) * itemWidth); // Shift left so current item is second\n        navStrip.style.transform = `translateX(${translateValue}px)`;\n\n        // Add smooth scrolling effect to the nav strip\n        navStrip.style.transition = 'transform 0.5s ease-in-out';\n\n        playPauseButton.setAttribute('aria-pressed', autoplay);\n        playPauseButton.innerHTML = autoplay\n            ? '<span class=\"sr-only\">Stop Slides</span>'\n            : '<span class=\"sr-only\">Start Slides</span>';\n    }\n\n\n    function nextSlide() {\n        currentSlide = (currentSlide + 1) % slides.length;\n        updateCarousel();\n        liveregion.textContent = `Item ${currentSlide + 1} of ${slides.length}.`; // Announce slide\n    }\n\n    function previousSlide() {\n        currentSlide = (currentSlide - 1 + slides.length) % slides.length;\n        updateCarousel();\n        liveregion.textContent = `Item ${currentSlide + 1} of ${slides.length}.`; // Announce slide\n    }\n\n    function goToSlide(index) {\n        currentSlide = index;\n        updateCarousel();\n        liveregion.textContent = `Item ${currentSlide + 1} of ${slides.length}.`; // Announce slide\n    }\n\n    function play() {\n        autoplay = true;\n        intervalId = setInterval(nextSlide, 8000);\n    }\n\n    function pause() {\n        autoplay = false;\n        clearInterval(intervalId);\n    }\n\n    nextButton.addEventListener('click', () => {\n        pause();\n        nextSlide();\n    });\n\n    prevButton.addEventListener('click', () => {\n        pause();\n        previousSlide();\n    });\n\n    playPauseButton.addEventListener('click', () => {\n        if (autoplay) {\n            pause();\n        } else {\n            play();\n        }\n        updateCarousel(); // Update after toggling autoplay\n    });\n\n    slideNavButtons.forEach((button, index) => {\n        button.addEventListener('click', () => {\n            pause();\n            goToSlide(index);\n        });\n\n        button.addEventListener('keydown', (event) => {\n            if (event.key === 'Enter' || event.key === ' ') {\n                pause();\n                goToSlide(index);\n                event.preventDefault();\n            }\n        });\n    });\n\n    // Initialize the carousel\n    updateCarousel();\n\n    // Start autoplay if enabled\n    if (autoplay) {\n        play();\n    }\n});\n"],"names":["document","querySelectorAll","forEach","carousel","slides","nextButton","querySelector","prevButton","playPauseButton","slideNavButtons","navStrip","itemWidth","currentSlide","autoplay","intervalId","liveregion","createElement","setAttribute","appendChild","updateCarousel","slide","index","style","opacity","visibility","button","classList","toggle","translateValue","transform","transition","innerHTML","nextSlide","length","textContent","previousSlide","goToSlide","play","setInterval","pause","clearInterval","addEventListener","event","key","preventDefault"],"sourceRoot":""}