{"version":3,"file":"blocks/carousel-2/view.js","mappings":";;;;AAAAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACxD,MAAMC,QAAQ,GAAGF,QAAQ,CAACG,aAAa,CAAC,+BAA+B,CAAC;EACxE,IAAI,CAACD,QAAQ,EAAE;EAEf,MAAME,MAAM,GAAGF,QAAQ,CAACG,gBAAgB,CAAC,0BAA0B,CAAC;EACpE,MAAMC,OAAO,GAAGJ,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;EACnD,MAAMI,OAAO,GAAGL,QAAQ,CAACC,aAAa,CAAC,WAAW,CAAC;EACnD,MAAMK,QAAQ,GAAGN,QAAQ,CAACC,aAAa,CAAC,YAAY,CAAC;EACrD,MAAMM,OAAO,GAAGP,QAAQ,CAACC,aAAa,CAAC,mBAAmB,CAAC;EAE3D,IAAIO,YAAY,GAAG,CAAC;EACpB,IAAIC,SAAS,GAAG,IAAI;EACpB,IAAIC,gBAAgB;EAEpB,MAAMC,WAAW,GAAGT,MAAM,CAACU,MAAM;EAEjC,SAASC,aAAaA,CAAA,EAAG;IACvBN,OAAO,CAACO,WAAW,GAAG,GAAGN,YAAY,GAAG,CAAC,MAAMG,WAAW,EAAE;EAC9D;EAEA,SAASI,SAASA,CAACC,KAAK,EAAE;IACxBd,MAAM,CAACe,OAAO,CAAC,CAACC,KAAK,EAAEC,CAAC,KAAK;MAC3BD,KAAK,CAACE,KAAK,CAACC,OAAO,GAAGF,CAAC,KAAKH,KAAK,GAAG,GAAG,GAAG,GAAG;MAC7CE,KAAK,CAACE,KAAK,CAACE,MAAM,GAAGH,CAAC,KAAKH,KAAK,GAAG,GAAG,GAAG,GAAG;MAC5CE,KAAK,CAACK,YAAY,CAAC,aAAa,EAAEJ,CAAC,KAAKH,KAAK,CAAC;IAChD,CAAC,CAAC;IACFH,aAAa,CAAC,CAAC;IACfW,oBAAoB,CAAC,CAAC;EACxB;EAEA,SAASC,SAASA,CAAA,EAAG;IACnBjB,YAAY,GAAG,CAACA,YAAY,GAAG,CAAC,IAAIG,WAAW;IAC/CI,SAAS,CAACP,YAAY,CAAC;EACzB;EAEA,SAASkB,SAASA,CAAA,EAAG;IACnBlB,YAAY,GAAG,CAACA,YAAY,GAAG,CAAC,GAAGG,WAAW,IAAIA,WAAW;IAC7DI,SAAS,CAACP,YAAY,CAAC;EACzB;EAEA,SAASmB,aAAaA,CAAA,EAAG;IACvBlB,SAAS,GAAG,KAAK;IACjBmB,aAAa,CAAClB,gBAAgB,CAAC;IAC/BJ,QAAQ,CAACiB,YAAY,CAAC,cAAc,EAAE,OAAO,CAAC;IAC9CjB,QAAQ,CAACL,aAAa,CAAC,UAAU,CAAC,CAACa,WAAW,GAAG,MAAM;EACzD;EAEA,SAASe,YAAYA,CAAA,EAAG;IACtBpB,SAAS,GAAG,IAAI;IAChBC,gBAAgB,GAAGoB,WAAW,CAACL,SAAS,EAAE,IAAI,CAAC;IAC/CnB,QAAQ,CAACiB,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC;IAC7CjB,QAAQ,CAACL,aAAa,CAAC,UAAU,CAAC,CAACa,WAAW,GAAG,OAAO;EAC1D;EAEA,SAASU,oBAAoBA,CAAA,EAAG;IAC9B,MAAMO,cAAc,GAAGjC,QAAQ,CAACG,aAAa,CAAC,2BAA2B,CAAC;IAC1E,MAAMC,MAAM,GAAG6B,cAAc,EAAE5B,gBAAgB,CAAC,0BAA0B,CAAC;IAC3E,MAAM6B,WAAW,GAAG9B,MAAM,GAAGM,YAAY,CAAC;IAE1C,IAAIuB,cAAc,IAAIC,WAAW,EAAE;MACjC,MAAMC,WAAW,GAAGD,WAAW,CAACE,YAAY;MAC5CH,cAAc,CAACX,KAAK,CAACe,MAAM,GAAG,GAAGF,WAAW,IAAI;IAClD;EACF;EAEA,SAASG,gBAAgBA,CAAA,EAAG;IAC1B,MAAMC,OAAO,GAAGvC,QAAQ,CAACG,aAAa,CAAC,2CAA2C,CAAC;IACnF,MAAMqC,OAAO,GAAGxC,QAAQ,CAACG,aAAa,CAAC,mCAAmC,CAAC;IAC3E,MAAMsC,QAAQ,GAAGzC,QAAQ,CAACG,aAAa,CAAC,qCAAqC,CAAC;IAE9E,IAAIoC,OAAO,IAAIC,OAAO,IAAIC,QAAQ,EAAE;MAClC,MAAMC,WAAW,GAAGC,MAAM,CAACC,UAAU;MAErC,MAAMC,aAAa,GAAGN,OAAO,CAACO,qBAAqB,CAAC,CAAC,CAACC,MAAM;MAC5D,MAAMC,aAAa,GAAGR,OAAO,CAACM,qBAAqB,CAAC,CAAC,CAACC,MAAM;MAC5D,MAAME,cAAc,GAAGJ,aAAa,GAAGG,aAAa;MAEpD,MAAME,cAAc,GAAGT,QAAQ,CAACK,qBAAqB,CAAC,CAAC,CAACT,MAAM;MAC9D,MAAMc,cAAc,GAAGF,cAAc,GAAGC,cAAc,GAAG,EAAE;MAE3D,IAAIR,WAAW,IAAI,IAAI,IAAIA,WAAW,IAAI,IAAI,EAAE;QAC9C,MAAMU,YAAY,GAAGb,OAAO,CAACO,qBAAqB,CAAC,CAAC,CAACO,KAAK;QAE1DZ,QAAQ,CAACnB,KAAK,CAACgC,KAAK,GAAG,OAAO;QAC9Bb,QAAQ,CAACnB,KAAK,CAACyB,MAAM,GAAG,MAAM;QAC9BN,QAAQ,CAACnB,KAAK,CAACiC,IAAI,GAAGH,YAAY,GAAG,EAAE,GAAG,IAAI;MAChD,CAAC,MAAM;QACL,MAAMI,WAAW,GAAGjB,OAAO,CAACO,qBAAqB,CAAC,CAAC,CAACS,IAAI;QACxD,MAAME,WAAW,GAAGjB,OAAO,CAACM,qBAAqB,CAAC,CAAC,CAACS,IAAI;QACxD,MAAMG,YAAY,GAAG,CAACF,WAAW,GAAGC,WAAW,IAAI,CAAC,CAAC;QAErDhB,QAAQ,CAACnB,KAAK,CAACyB,MAAM,GAAG,GAAGI,cAAc,IAAI;QAC7CV,QAAQ,CAACnB,KAAK,CAACiC,IAAI,GAAG,GAAGG,YAAY,IAAI;QACzCjB,QAAQ,CAACnB,KAAK,CAACgC,KAAK,GAAG,MAAM;MAC/B;MAEAb,QAAQ,CAACnB,KAAK,CAACC,OAAO,GAAG,GAAG;MAC5BkB,QAAQ,CAACnB,KAAK,CAACqC,UAAU,GAAG,SAAS;IACvC;EACF;EAEAhB,MAAM,CAAC1C,gBAAgB,CAAC,MAAM,EAAE,MAAM;IACpCyB,oBAAoB,CAAC,CAAC;IACtBY,gBAAgB,CAAC,CAAC;IAClBpC,QAAQ,CAAC0D,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;IAEhCC,UAAU,CAAC,MAAM;MACfpC,oBAAoB,CAAC,CAAC;MACtBY,gBAAgB,CAAC,CAAC;IACpB,CAAC,EAAE,GAAG,CAAC;IAEP,MAAMyB,MAAM,GAAG7D,QAAQ,CAACG,gBAAgB,CAAC,KAAK,CAAC;IAC/C0D,MAAM,CAAC5C,OAAO,CAAC6C,GAAG,IAAI;MACpB,IAAI,CAACA,GAAG,CAACC,QAAQ,EAAE;QACjBD,GAAG,CAAC/D,gBAAgB,CAAC,MAAM,EAAE,MAAM;UACjCyB,oBAAoB,CAAC,CAAC;UACtBY,gBAAgB,CAAC,CAAC;QACpB,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFK,MAAM,CAAC1C,gBAAgB,CAAC,QAAQ,EAAE,MAAM;IACtCyB,oBAAoB,CAAC,CAAC;IACtBY,gBAAgB,CAAC,CAAC;EACpB,CAAC,CAAC;EAEF9B,QAAQ,CAACP,gBAAgB,CAAC,OAAO,EAAE,MAAM;IACvCU,SAAS,GAAGkB,aAAa,CAAC,CAAC,GAAGE,YAAY,CAAC,CAAC;EAC9C,CAAC,CAAC;EAEFxB,OAAO,CAACN,gBAAgB,CAAC,OAAO,EAAE,MAAM;IACtC0B,SAAS,CAAC,CAAC;IACX,IAAIhB,SAAS,EAAEkB,aAAa,CAAC,CAAC;EAChC,CAAC,CAAC;EAEFvB,OAAO,CAACL,gBAAgB,CAAC,OAAO,EAAE,MAAM;IACtC2B,SAAS,CAAC,CAAC;IACX,IAAIjB,SAAS,EAAEkB,aAAa,CAAC,CAAC;EAChC,CAAC,CAAC;;EAEF;EACAzB,MAAM,CAACe,OAAO,CAAC,CAACC,KAAK,EAAEC,CAAC,KAAK;IAC3BD,KAAK,CAACK,YAAY,CAAC,aAAa,EAAEJ,CAAC,KAAK,CAAC,CAAC;IAC1CD,KAAK,CAACE,KAAK,CAAC4C,UAAU,GAAG,mBAAmB;IAC5C9C,KAAK,CAACE,KAAK,CAACC,OAAO,GAAGF,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG;IACzCD,KAAK,CAACE,KAAK,CAAC6C,QAAQ,GAAG,UAAU;IACjC/C,KAAK,CAACE,KAAK,CAAC8C,GAAG,GAAG,GAAG;IACrBhD,KAAK,CAACE,KAAK,CAACiC,IAAI,GAAG,GAAG;IACtBnC,KAAK,CAACE,KAAK,CAAC+B,KAAK,GAAG,MAAM;EAC5B,CAAC,CAAC;EAEFnD,QAAQ,CAACC,aAAa,CAAC,2BAA2B,CAAC,CAACmB,KAAK,CAAC6C,QAAQ,GAAG,UAAU;EAE/ElD,SAAS,CAACP,YAAY,CAAC;EACvBqB,YAAY,CAAC,CAAC;;EAEd;EACA,IAAIY,MAAM,CAACC,UAAU,GAAG,GAAG,EAAE;IAC3B,MAAMyB,QAAQ,GAAG,IAAIC,oBAAoB,CACtCC,OAAO,IAAK;MACXA,OAAO,CAACpD,OAAO,CAAEqD,KAAK,IAAK;QACzB,IAAI,CAACA,KAAK,CAACC,cAAc,IAAI9D,SAAS,EAAE;UACtCkB,aAAa,CAAC,CAAC;QACjB;MACF,CAAC,CAAC;IACJ,CAAC,EACD;MACE6C,IAAI,EAAE,IAAI;MACVC,SAAS,EAAE,GAAG,CAAC;IACjB,CACF,CAAC;IAEDN,QAAQ,CAACO,OAAO,CAAC1E,QAAQ,CAAC;EAC5B;AACF,CAAC,CAAC,C","sources":["webpack://theme-blocks/./src/blocks/carousel-2/view.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const carousel = document.querySelector('.wp-block-caes-hub-carousel-2');\n  if (!carousel) return;\n\n  const slides = carousel.querySelectorAll('.caes-hub-carousel-slide');\n  const prevBtn = carousel.querySelector('.btn-prev');\n  const nextBtn = carousel.querySelector('.btn-next');\n  const pauseBtn = carousel.querySelector('.btn-pause');\n  const counter = carousel.querySelector('.carousel-counter');\n\n  let currentIndex = 0;\n  let isPlaying = true;\n  let autoplayInterval;\n\n  const totalSlides = slides.length;\n\n  function updateCounter() {\n    counter.textContent = `${currentIndex + 1} / ${totalSlides}`;\n  }\n\n  function showSlide(index) {\n    slides.forEach((slide, i) => {\n      slide.style.opacity = i === index ? '1' : '0';\n      slide.style.zIndex = i === index ? '1' : '0';\n      slide.setAttribute('aria-hidden', i !== index);\n    });\n    updateCounter();\n    adjustCarouselHeight();\n  }\n\n  function nextSlide() {\n    currentIndex = (currentIndex + 1) % totalSlides;\n    showSlide(currentIndex);\n  }\n\n  function prevSlide() {\n    currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;\n    showSlide(currentIndex);\n  }\n\n  function pauseAutoplay() {\n    isPlaying = false;\n    clearInterval(autoplayInterval);\n    pauseBtn.setAttribute('aria-pressed', 'false');\n    pauseBtn.querySelector('.sr-only').textContent = 'Play';\n  }\n\n  function playAutoplay() {\n    isPlaying = true;\n    autoplayInterval = setInterval(nextSlide, 6000);\n    pauseBtn.setAttribute('aria-pressed', 'true');\n    pauseBtn.querySelector('.sr-only').textContent = 'Pause';\n  }\n\n  function adjustCarouselHeight() {\n    const carouselSlides = document.querySelector('.caes-hub-carousel-slides');\n    const slides = carouselSlides?.querySelectorAll('.caes-hub-carousel-slide');\n    const activeSlide = slides?.[currentIndex];\n\n    if (carouselSlides && activeSlide) {\n      const slideHeight = activeSlide.offsetHeight;\n      carouselSlides.style.height = `${slideHeight}px`;\n    }\n  }\n\n  function controlsDistance() {\n    const wrapper = document.querySelector('.caes-hub-carousel-slide__content-wrapper');\n    const content = document.querySelector('.caes-hub-carousel-slide__content');\n    const controls = document.querySelector('.caes-hub-carousel-controls-wrapper');\n  \n    if (wrapper && content && controls) {\n      const screenWidth = window.innerWidth;\n  \n      const wrapperBottom = wrapper.getBoundingClientRect().bottom;\n      const contentBottom = content.getBoundingClientRect().bottom;\n      const bottomDistance = wrapperBottom - contentBottom;\n  \n      const controlsHeight = controls.getBoundingClientRect().height;\n      const controlsBottom = bottomDistance - controlsHeight - 10;\n  \n      if (screenWidth >= 1100 && screenWidth <= 1555) {\n        const wrapperWidth = wrapper.getBoundingClientRect().width;\n\n        controls.style.right = 'unset';\n        controls.style.bottom = '10px';\n        controls.style.left = wrapperWidth + 10 + 'px';\n      } else {\n        const wrapperLeft = wrapper.getBoundingClientRect().left;\n        const contentLeft = content.getBoundingClientRect().left;\n        const leftDistance = (wrapperLeft - contentLeft) * -1;\n        \n        controls.style.bottom = `${controlsBottom}px`;\n        controls.style.left = `${leftDistance}px`;\n        controls.style.right = 'auto';\n      }\n\n      controls.style.opacity = '1';\n      controls.style.visibility = 'visible';\n    }\n  }\n\n  window.addEventListener('load', () => {\n    adjustCarouselHeight();\n    controlsDistance();\n    carousel.classList.add('loaded');\n\n    setTimeout(() => {\n      adjustCarouselHeight();\n      controlsDistance();\n    }, 100);\n\n    const images = carousel.querySelectorAll('img');\n    images.forEach(img => {\n      if (!img.complete) {\n        img.addEventListener('load', () => {\n          adjustCarouselHeight();\n          controlsDistance();\n        });\n      }\n    });\n  });\n\n  window.addEventListener('resize', () => {\n    adjustCarouselHeight();\n    controlsDistance();\n  });\n\n  pauseBtn.addEventListener('click', () => {\n    isPlaying ? pauseAutoplay() : playAutoplay();\n  });\n\n  nextBtn.addEventListener('click', () => {\n    nextSlide();\n    if (isPlaying) pauseAutoplay();\n  });\n\n  prevBtn.addEventListener('click', () => {\n    prevSlide();\n    if (isPlaying) pauseAutoplay();\n  });\n\n  // Initialize\n  slides.forEach((slide, i) => {\n    slide.setAttribute('aria-hidden', i !== 0);\n    slide.style.transition = 'opacity 0.5s ease';\n    slide.style.opacity = i === 0 ? '1' : '0';\n    slide.style.position = 'absolute';\n    slide.style.top = '0';\n    slide.style.left = '0';\n    slide.style.width = '100%';\n  });\n\n  carousel.querySelector('.caes-hub-carousel-slides').style.position = 'relative';\n\n  showSlide(currentIndex);\n  playAutoplay();\n\n  // Stop autoplay on mobile if carousel is mostly off screen\n  if (window.innerWidth < 784) {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (!entry.isIntersecting && isPlaying) {\n            pauseAutoplay();\n          }\n        });\n      },\n      {\n        root: null,\n        threshold: 0.5 // At least 50% must be visible to keep playing\n      }\n    );\n\n    observer.observe(carousel);\n  }\n});\n"],"names":["document","addEventListener","carousel","querySelector","slides","querySelectorAll","prevBtn","nextBtn","pauseBtn","counter","currentIndex","isPlaying","autoplayInterval","totalSlides","length","updateCounter","textContent","showSlide","index","forEach","slide","i","style","opacity","zIndex","setAttribute","adjustCarouselHeight","nextSlide","prevSlide","pauseAutoplay","clearInterval","playAutoplay","setInterval","carouselSlides","activeSlide","slideHeight","offsetHeight","height","controlsDistance","wrapper","content","controls","screenWidth","window","innerWidth","wrapperBottom","getBoundingClientRect","bottom","contentBottom","bottomDistance","controlsHeight","controlsBottom","wrapperWidth","width","right","left","wrapperLeft","contentLeft","leftDistance","visibility","classList","add","setTimeout","images","img","complete","transition","position","top","observer","IntersectionObserver","entries","entry","isIntersecting","root","threshold","observe"],"sourceRoot":""}