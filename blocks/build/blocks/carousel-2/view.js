document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".wp-block-caes-hub-carousel-2");if(!e)return;const t=e.querySelectorAll(".caes-hub-carousel-slide"),n=e.querySelector(".btn-prev"),o=e.querySelector(".btn-next"),s=e.querySelector(".btn-pause"),l=e.querySelector(".carousel-counter");let r,i=0,c=!0;const u=t.length;function a(e){t.forEach(((t,n)=>{t.style.opacity=n===e?"1":"0",t.style.zIndex=n===e?"1":"0",t.setAttribute("aria-hidden",n!==e)})),l.textContent=`${i+1} / ${u}`,b()}function d(){i=(i+1)%u,a(i)}function y(){c=!1,clearInterval(r),s.setAttribute("aria-pressed","false"),s.querySelector(".sr-only").textContent="Play"}function h(){c=!0,r=setInterval(d,6e3),s.setAttribute("aria-pressed","true"),s.querySelector(".sr-only").textContent="Pause"}function b(){const e=document.querySelector(".caes-hub-carousel-slides"),t=e?.querySelectorAll(".caes-hub-carousel-slide"),n=t?.[i];if(e&&n){const t=n.offsetHeight;e.style.height=`${t}px`}}function f(){const e=document.querySelector(".caes-hub-carousel-slide__content-wrapper"),t=document.querySelector(".caes-hub-carousel-slide__content"),n=document.querySelector(".caes-hub-carousel-controls-wrapper");if(e&&t&&n){const o=window.innerWidth,s=e.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom-n.getBoundingClientRect().height-10;if(o>=1100&&o<=1555){const t=e.getBoundingClientRect().width;n.style.right="unset",n.style.bottom="10px",n.style.left=t+10+"px"}else{const o=-1*(e.getBoundingClientRect().left-t.getBoundingClientRect().left);n.style.bottom=`${s}px`,n.style.left=`${o}px`,n.style.right="auto"}n.style.opacity="1",n.style.visibility="visible"}}window.addEventListener("load",(()=>{b(),f(),e.classList.add("loaded"),setTimeout((()=>{b(),f()}),100),e.querySelectorAll("img").forEach((e=>{e.complete||e.addEventListener("load",(()=>{b(),f()}))}))})),window.addEventListener("resize",(()=>{b(),f()})),s.addEventListener("click",(()=>{c?y():h()})),o.addEventListener("click",(()=>{d(),c&&y()})),n.addEventListener("click",(()=>{i=(i-1+u)%u,a(i),c&&y()})),t.forEach(((e,t)=>{e.setAttribute("aria-hidden",0!==t),e.style.transition="opacity 0.5s ease",e.style.opacity=0===t?"1":"0",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%"})),e.querySelector(".caes-hub-carousel-slides").style.position="relative",a(i),h(),window.innerWidth<784&&new IntersectionObserver((e=>{e.forEach((e=>{!e.isIntersecting&&c&&y()}))}),{root:null,threshold:.5}).observe(e)}));