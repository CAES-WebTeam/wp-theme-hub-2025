(()=>{function e(e){const t=parseInt(e.dataset.hoverDelay)||300;e.querySelectorAll(".nav-item-with-submenu").forEach((n=>{const o=n.querySelector(".submenu-toggle"),a=n.querySelector(".nav-flyout");if(n.querySelector(".nav-primary-link"),!o||!a)return;let u=null,r=!1;function s(){r||(e.querySelectorAll(".nav-item-with-submenu").forEach((e=>{if(e!==n){const t=e.querySelector(".submenu-toggle"),n=e.querySelector(".nav-flyout");t&&n&&(t.setAttribute("aria-expanded","false"),n.style.display="none",e.classList.remove("submenu-open"))}})),r=!0,o.setAttribute("aria-expanded","true"),a.style.display="block",n.classList.add("submenu-open"))}function i(){r&&(r=!1,o.setAttribute("aria-expanded","false"),a.style.display="none",n.classList.remove("submenu-open"))}o.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),r?i():s()})),o.addEventListener("keydown",(function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),r?i():s()),"Escape"===e.key&&r&&(i(),o.focus())})),window.matchMedia("(hover: hover)").matches&&(n.addEventListener("mouseenter",(function(){clearTimeout(u),u=setTimeout((()=>{r||s()}),t)})),n.addEventListener("mouseleave",(function(){clearTimeout(u),r&&i()}))),n.addEventListener("focusout",(function(e){setTimeout((()=>{n.contains(document.activeElement)||i()}),10)}))})),document.addEventListener("click",(function(t){e.contains(t.target)||e.querySelectorAll(".nav-item-with-submenu").forEach((e=>{const t=e.querySelector(".submenu-toggle"),n=e.querySelector(".nav-flyout");t&&n&&(t.setAttribute("aria-expanded","false"),n.style.display="none",e.classList.remove("submenu-open"))}))}))}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".field-report-navigation").forEach(e)}))})();