(()=>{"use strict";const e=window.wp.blocks,l=window.wp.blockEditor,s=window.wp.i18n,r=window.ReactJSXRuntime,t=(e,l)=>{if(!e||e.length<2)return null;const s=e=>{let l=e.replace("#","");return 3===l.length&&(l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2]),{r:parseInt(l.slice(0,2),16)/255,g:parseInt(l.slice(2,4),16)/255,b:parseInt(l.slice(4,6),16)/255}},t=s(e[0]),o=s(e[1]);return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 0 0",width:"0",height:"0",focusable:"false",role:"none",style:{visibility:"hidden",position:"absolute",left:"-9999px",overflow:"hidden"},"aria-hidden":"true",children:(0,r.jsx)("defs",{children:(0,r.jsxs)("filter",{id:l,children:[(0,r.jsx)("feColorMatrix",{colorInterpolationFilters:"sRGB",type:"matrix",values:".299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 0 0 0 1 0"}),(0,r.jsxs)("feComponentTransfer",{colorInterpolationFilters:"sRGB",children:[(0,r.jsx)("feFuncR",{type:"table",tableValues:`${t.r} ${o.r}`}),(0,r.jsx)("feFuncG",{type:"table",tableValues:`${t.g} ${o.g}`}),(0,r.jsx)("feFuncB",{type:"table",tableValues:`${t.b} ${o.b}`}),(0,r.jsx)("feFuncA",{type:"table",tableValues:"0 1"})]})]})})})},o=(e,l)=>{if(!e)return"transparent";const s=(null!=l?l:0)/100,r=e.replace("#","");return`rgba(${parseInt(r.substring(0,2),16)}, ${parseInt(r.substring(2,4),16)}, ${parseInt(r.substring(4,6),16)}, ${s})`},n=JSON.parse('{"UU":"caes-hub/motion-scroll-frame"}');(0,e.registerBlockType)(n.UU,{edit:({attributes:e,context:n,clientId:a})=>{var i;const{frameIndex:c,frameLabel:d}=e,m=n["caes-hub/motion-scroll-frames"]||[],u=n["caes-hub/motion-scroll-overlayColor"]||"#000000",p=null!==(i=n["caes-hub/motion-scroll-overlayOpacity"])&&void 0!==i?i:0,b=m[c]||null,f=b?.desktopImage||null,x=b?.desktopFocalPoint||{x:.5,y:.5},h=b?.desktopDuotone||b?.duotone||null,v=`motion-scroll-frame-editor-${a}`,j=(0,l.useBlockProps)({className:"motion-scroll-frame-editor","data-frame-label":d}),g=(0,l.useInnerBlocksProps)({className:"motion-scroll-frame-content"},{templateLock:!1,renderAppender:l.InnerBlocks.ButtonBlockAppender});return(0,r.jsxs)("div",{...j,children:[(0,r.jsx)("div",{className:"motion-scroll-frame-preview",children:f?(0,r.jsxs)("div",{className:"motion-scroll-frame-thumbnail",children:[h&&t(h,v),(0,r.jsx)("img",{src:f.url,alt:"",style:{objectPosition:`${100*x.x}% ${100*x.y}%`,filter:h?`url(#${v})`:void 0}}),p>0&&(0,r.jsx)("div",{className:"motion-scroll-frame-thumbnail-overlay",style:{background:o(u,p)}})]}):(0,r.jsx)("div",{className:"motion-scroll-frame-no-image",children:(0,r.jsx)("span",{children:(0,s.__)("No image","caes-motion-scroll")})})}),(0,r.jsx)("div",{className:"motion-scroll-frame-label",children:d||(0,s.__)("Frame","caes-motion-scroll")}),(0,r.jsx)("div",{...g})]})},save:({attributes:e})=>(0,r.jsx)("div",{className:"motion-scroll-frame-content","data-frame-index":e.frameIndex,children:(0,r.jsx)(l.InnerBlocks.Content,{})})})})();