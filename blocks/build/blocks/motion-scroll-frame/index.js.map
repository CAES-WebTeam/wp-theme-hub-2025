{"version":3,"file":"blocks/motion-scroll-frame/index.js","mappings":"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","sources":["webpack://theme-blocks/./src/blocks/motion-scroll-frame/edit.js","webpack://theme-blocks/./src/blocks/motion-scroll-frame/editor.scss","webpack://theme-blocks/external window \"ReactJSXRuntime\"","webpack://theme-blocks/external window [\"wp\",\"blockEditor\"]","webpack://theme-blocks/external window [\"wp\",\"blocks\"]","webpack://theme-blocks/external window [\"wp\",\"i18n\"]","webpack://theme-blocks/webpack/bootstrap","webpack://theme-blocks/webpack/runtime/compat get default export","webpack://theme-blocks/webpack/runtime/define property getters","webpack://theme-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://theme-blocks/webpack/runtime/make namespace object","webpack://theme-blocks/./src/blocks/motion-scroll-frame/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { useBlockProps, InnerBlocks, useInnerBlocksProps } from '@wordpress/block-editor';\n\n/**\n * Generate duotone SVG filter markup\n */\nconst getDuotoneFilter = ( duotone, filterId ) => {\n\tif ( ! duotone || duotone.length < 2 ) {\n\t\treturn null;\n\t}\n\n\tconst parseColor = ( hex ) => {\n\t\tlet color = hex.replace( '#', '' );\n\t\tif ( color.length === 3 ) {\n\t\t\tcolor = color[ 0 ] + color[ 0 ] + color[ 1 ] + color[ 1 ] + color[ 2 ] + color[ 2 ];\n\t\t}\n\t\treturn {\n\t\t\tr: parseInt( color.slice( 0, 2 ), 16 ) / 255,\n\t\t\tg: parseInt( color.slice( 2, 4 ), 16 ) / 255,\n\t\t\tb: parseInt( color.slice( 4, 6 ), 16 ) / 255,\n\t\t};\n\t};\n\n\tconst shadow = parseColor( duotone[ 0 ] );\n\tconst highlight = parseColor( duotone[ 1 ] );\n\n\treturn (\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tviewBox=\"0 0 0 0\"\n\t\t\twidth=\"0\"\n\t\t\theight=\"0\"\n\t\t\tfocusable=\"false\"\n\t\t\trole=\"none\"\n\t\t\tstyle={ { visibility: 'hidden', position: 'absolute', left: '-9999px', overflow: 'hidden' } }\n\t\t\taria-hidden=\"true\"\n\t\t>\n\t\t\t<defs>\n\t\t\t\t<filter id={ filterId }>\n\t\t\t\t\t<feColorMatrix\n\t\t\t\t\t\tcolorInterpolationFilters=\"sRGB\"\n\t\t\t\t\t\ttype=\"matrix\"\n\t\t\t\t\t\tvalues=\".299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 0 0 0 1 0\"\n\t\t\t\t\t/>\n\t\t\t\t\t<feComponentTransfer colorInterpolationFilters=\"sRGB\">\n\t\t\t\t\t\t<feFuncR type=\"table\" tableValues={ `${ shadow.r } ${ highlight.r }` } />\n\t\t\t\t\t\t<feFuncG type=\"table\" tableValues={ `${ shadow.g } ${ highlight.g }` } />\n\t\t\t\t\t\t<feFuncB type=\"table\" tableValues={ `${ shadow.b } ${ highlight.b }` } />\n\t\t\t\t\t\t<feFuncA type=\"table\" tableValues=\"0 1\" />\n\t\t\t\t\t</feComponentTransfer>\n\t\t\t\t</filter>\n\t\t\t</defs>\n\t\t</svg>\n\t);\n};\n\n/**\n * Convert overlay color and opacity to rgba string\n */\nconst getOverlayRgba = ( overlayColor, overlayOpacity ) => {\n\tif ( ! overlayColor ) {\n\t\treturn 'transparent';\n\t}\n\tconst opacity = ( overlayOpacity ?? 0 ) / 100;\n\tconst hex = overlayColor.replace( '#', '' );\n\tconst r = parseInt( hex.substring( 0, 2 ), 16 );\n\tconst g = parseInt( hex.substring( 2, 4 ), 16 );\n\tconst b = parseInt( hex.substring( 4, 6 ), 16 );\n\treturn `rgba(${ r }, ${ g }, ${ b }, ${ opacity })`;\n};\n\nconst Edit = ( { attributes, context, clientId } ) => {\n\tconst { frameIndex, frameLabel } = attributes;\n\n\t// Get frame data from parent context\n\tconst frames = context[ 'caes-hub/motion-scroll-frames' ] || [];\n\tconst overlayColor = context[ 'caes-hub/motion-scroll-overlayColor' ] || '#000000';\n\tconst overlayOpacity = context[ 'caes-hub/motion-scroll-overlayOpacity' ] ?? 0;\n\n\t// Get this frame's data\n\tconst frame = frames[ frameIndex ] || null;\n\tconst desktopImage = frame?.desktopImage || null;\n\tconst desktopFocalPoint = frame?.desktopFocalPoint || { x: 0.5, y: 0.5 };\n\tconst desktopDuotone = frame?.desktopDuotone || frame?.duotone || null;\n\n\tconst filterId = `motion-scroll-frame-editor-${ clientId }`;\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: 'motion-scroll-frame-editor',\n\t\t'data-frame-label': frameLabel,\n\t} );\n\n\tconst innerBlocksProps = useInnerBlocksProps(\n\t\t{\n\t\t\tclassName: 'motion-scroll-frame-content',\n\t\t},\n\t\t{\n\t\t\ttemplateLock: false,\n\t\t\trenderAppender: InnerBlocks.ButtonBlockAppender,\n\t\t}\n\t);\n\n\treturn (\n\t\t<div { ...blockProps }>\n\t\t\t{/* Background image thumbnail */}\n\t\t\t<div className=\"motion-scroll-frame-preview\">\n\t\t\t\t{ desktopImage ? (\n\t\t\t\t\t<div className=\"motion-scroll-frame-thumbnail\">\n\t\t\t\t\t\t{ desktopDuotone && getDuotoneFilter( desktopDuotone, filterId ) }\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ desktopImage.url }\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tobjectPosition: `${ desktopFocalPoint.x * 100 }% ${ desktopFocalPoint.y * 100 }%`,\n\t\t\t\t\t\t\t\tfilter: desktopDuotone ? `url(#${ filterId })` : undefined,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ overlayOpacity > 0 && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"motion-scroll-frame-thumbnail-overlay\"\n\t\t\t\t\t\t\t\tstyle={ { background: getOverlayRgba( overlayColor, overlayOpacity ) } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"motion-scroll-frame-no-image\">\n\t\t\t\t\t\t<span>{ __( 'No image', 'caes-motion-scroll' ) }</span>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\n\t\t\t{/* Frame label */}\n\t\t\t<div className=\"motion-scroll-frame-label\">\n\t\t\t\t{ frameLabel || __( 'Frame', 'caes-motion-scroll' ) }\n\t\t\t</div>\n\n\t\t\t{/* Content area */}\n\t\t\t<div { ...innerBlocksProps } />\n\t\t</div>\n\t);\n};\n\nexport default Edit;\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport { InnerBlocks } from '@wordpress/block-editor';\nimport './editor.scss';\nimport Edit from './edit';\nimport metadata from './block.json';\n\nregisterBlockType( metadata.name, {\n\tedit: Edit,\n\tsave: ( { attributes } ) => {\n\t\t// Output wrapper for PHP to parse and extract content\n\t\treturn (\n\t\t\t<div \n\t\t\t\tclassName=\"motion-scroll-frame-content\" \n\t\t\t\tdata-frame-index={ attributes.frameIndex }\n\t\t\t>\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</div>\n\t\t);\n\t},\n} );\n"],"names":["__","useBlockProps","InnerBlocks","useInnerBlocksProps","jsx","_jsx","jsxs","_jsxs","getDuotoneFilter","duotone","filterId","length","parseColor","hex","color","replace","r","parseInt","slice","g","b","shadow","highlight","xmlns","viewBox","width","height","focusable","role","style","visibility","position","left","overflow","children","id","colorInterpolationFilters","type","values","tableValues","getOverlayRgba","overlayColor","overlayOpacity","opacity","substring","Edit","attributes","context","clientId","_context$caesHubMot","frameIndex","frameLabel","frames","frame","desktopImage","desktopFocalPoint","x","y","desktopDuotone","blockProps","className","innerBlocksProps","templateLock","renderAppender","ButtonBlockAppender","src","url","alt","objectPosition","filter","undefined","background","registerBlockType","metadata","name","edit","save","Content"],"sourceRoot":""}