!function(){"use strict";function t(t){const i=t.querySelector(".reveal-backgrounds"),s=t.querySelectorAll(".reveal-frame-background"),o=t.querySelector(".reveal-sections"),a=t.querySelectorAll(".reveal-frame-section");if(!i||0===a.length)return;const r={contentViewportRatio:.7,exitScrollDistance:.5};let c=!1,l=[],d=0;function u(){const t=window.innerHeight;l=[];let e=0;return a.forEach(((n,i)=>{const o=n.querySelector(".reveal-frame-content"),c=s[i];let d,u=0;if(o){const t=o.children;for(let e of t){u+=e.offsetHeight;const t=window.getComputedStyle(e);u+=parseInt(t.marginTop||0)+parseInt(t.marginBottom||0)}}switch(u=Math.max(u,100),c&&c.getAttribute("data-speed")||"normal"){case"slow":d=2.5*t;break;case"fast":d=1*t;break;default:d=1.8*t}const f=0===i,g=i===a.length-1,h=f?Math.max(0,(t-u)/2):t;f&&(n.style.paddingTop=h+"px");const y=h+u,p=g?y+t*r.exitScrollDistance:y+d;l.push({index:i,section:n,content:o,background:c,contentHeight:u,transitionDistance:d,sectionHeight:p,sectionStart:e,sectionEnd:e+p,contentStart:e,contentEnd:e+y,transitionStart:e+y,transitionEnd:e+y+d,isLastFrame:g}),e+=p,n.style.height=p+"px"})),o.style.height=e+"px",d=e,e}function f(){const{scrollIntoBlock:e,isActive:n,hasStarted:i,isFinished:o}=function(){const e=t.getBoundingClientRect(),n=window.pageYOffset+e.top;return{scrollIntoBlock:window.pageYOffset-n,totalHeight:d,blockTop:n,blockRect:e,isActive:e.top<=0&&e.bottom>window.innerHeight,hasStarted:e.top<=0,isFinished:e.bottom<=window.innerHeight}}();t.classList.toggle("has-started",i),t.classList.toggle("is-active",n),t.classList.toggle("is-finished",o);const{activeIndex:a,transitioningToIndex:r,transitionProgress:u}=function(t){window.innerHeight;let e=0,n=-1,i=0;for(let s=0;s<l.length;s++){const o=l[s];if(t>=o.sectionStart&&t<o.sectionEnd){if(e=s,!o.isLastFrame&&t>=o.transitionStart){n=s+1;const e=t-o.transitionStart;i=Math.min(1,Math.max(0,e/o.transitionDistance))}break}}return t>=l[l.length-1]?.sectionEnd&&(e=l.length-1),{activeIndex:e,transitioningToIndex:n,transitionProgress:i}}(e);!function(t,e,n){s.forEach(((i,s)=>{const o=i.getAttribute("data-transition")||"fade";if(i.style.transform="",i.style.opacity="",i.style.clipPath="",s===t&&-1===e)i.classList.add("is-active"),i.classList.remove("is-transitioning-in","is-transitioning-out"),i.style.opacity="1",i.style.zIndex="10";else if(s===t&&-1!==e)i.classList.remove("is-active","is-transitioning-in"),i.classList.add("is-transitioning-out"),i.style.opacity="1",i.style.zIndex="9";else if(s===e)switch(i.classList.remove("is-active","is-transitioning-out"),i.classList.add("is-transitioning-in"),i.style.zIndex="10",o){case"fade":default:i.style.opacity=n;break;case"left":i.style.opacity="1",i.style.clipPath=`inset(0 ${100*(1-n)}% 0 0)`;break;case"right":i.style.opacity="1",i.style.clipPath=`inset(0 0 0 ${100*(1-n)}%)`;break;case"up":i.style.opacity="1",i.style.clipPath=`inset(0 0 ${100*(1-n)}% 0)`;break;case"down":i.style.opacity="1",i.style.clipPath=`inset(${100*(1-n)}% 0 0 0)`;break;case"zoom":i.style.opacity=n,i.style.transform=`scale(${.8+.2*n})`}else i.classList.remove("is-active","is-transitioning-in","is-transitioning-out"),i.style.opacity="0",i.style.zIndex="5"}))}(a,r,u),window.innerHeight,l.forEach((t=>{t.content&&t.sectionStart})),t.dataset.currentFrame=a,c=!1}function g(){c||(window.requestAnimationFrame(f),c=!0)}function h(){u(),f()}t._revealCleanup=function(){window.removeEventListener("scroll",g),window.removeEventListener("resize",h),e.delete(t),0===e.size&&n&&(n.disconnect(),n=null)},function(){u(),window.addEventListener("scroll",g,{passive:!0}),window.addEventListener("resize",h,{passive:!0});const e=function(t){let e;return function(){clearTimeout(e),e=setTimeout(t,100)}}((()=>{u(),f()}));t.querySelectorAll("img").forEach((t=>{t.complete||(t.addEventListener("load",e),t.addEventListener("error",e))})),f(),t.dataset.initialized="true"}(),e.add(t)}const e=new Set;let n=null;function i(){document.querySelectorAll(".caes-reveal").forEach((e=>{e.dataset.initialized||t(e)}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i(),"undefined"!=typeof MutationObserver&&(n=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{1===e.nodeType&&(e.classList?.contains("caes-reveal")&&t(e),e.querySelectorAll(".caes-reveal").forEach(t))}))}))})),n.observe(document.body,{childList:!0,subtree:!0}))}();