!function(){"use strict";function t(t){const e=t.querySelector(".reveal-backgrounds"),i=t.querySelectorAll(".reveal-frame-background"),n=t.querySelector(".reveal-sections"),s=t.querySelectorAll(".reveal-frame-section");if(!e||0===s.length)return;const o={contentViewportRatio:.7,exitScrollDistance:.5};let a=!1,r=[];function c(){const t=window.innerHeight;r=[];let e=0;return s.forEach(((n,a)=>{const c=n.querySelector(".reveal-frame-content"),l=i[a];let d,f=0;if(c){const t=c.children;for(let e of t){f+=e.offsetHeight;const t=window.getComputedStyle(e);f+=parseInt(t.marginTop||0)+parseInt(t.marginBottom||0)}}switch(f=Math.max(f,100),l&&l.getAttribute("data-speed")||"normal"){case"slow":d=2.5*t;break;case"fast":d=1*t;break;default:d=1.8*t}const u=a===s.length-1,g=u?t+f+t*o.exitScrollDistance:t+f+d;r.push({index:a,section:n,content:c,background:l,contentHeight:f,transitionDistance:d,sectionHeight:g,sectionStart:e,sectionEnd:e+g,contentStart:e,contentEnd:e+t+f,transitionStart:e+t+f,transitionEnd:e+t+f+d,isLastFrame:u}),e+=g,n.style.height=g+"px"})),n.style.height=e+"px",e}function l(){const{scrollIntoBlock:e,isActive:s,hasStarted:o,isFinished:c}=function(){const e=t.getBoundingClientRect(),i=window.pageYOffset+e.top;return{scrollIntoBlock:window.pageYOffset-i,totalHeight:n.offsetHeight,blockTop:i,blockRect:e,isActive:e.top<=0&&e.bottom>window.innerHeight,hasStarted:e.top<=0,isFinished:e.bottom<=window.innerHeight}}();t.classList.toggle("has-started",o),t.classList.toggle("is-active",s),t.classList.toggle("is-finished",c);const{activeIndex:l,transitioningToIndex:d,transitionProgress:f}=function(t){window.innerHeight;let e=0,i=-1,n=0;for(let s=0;s<r.length;s++){const o=r[s];if(t>=o.sectionStart&&t<o.sectionEnd){if(e=s,!o.isLastFrame&&t>=o.transitionStart){i=s+1;const e=t-o.transitionStart;n=Math.min(1,Math.max(0,e/o.transitionDistance))}break}}return t>=r[r.length-1]?.sectionEnd&&(e=r.length-1),{activeIndex:e,transitioningToIndex:i,transitionProgress:n}}(e);!function(t,e,n){i.forEach(((i,s)=>{const o=i.getAttribute("data-transition")||"fade";if(i.style.transform="",i.style.opacity="",i.style.clipPath="",s===t&&-1===e)i.classList.add("is-active"),i.classList.remove("is-transitioning-in","is-transitioning-out"),i.style.opacity="1",i.style.zIndex="10";else if(s===t&&-1!==e)i.classList.remove("is-active","is-transitioning-in"),i.classList.add("is-transitioning-out"),i.style.opacity="1",i.style.zIndex="9";else if(s===e)switch(i.classList.remove("is-active","is-transitioning-out"),i.classList.add("is-transitioning-in"),i.style.zIndex="10",o){case"fade":default:i.style.opacity=n;break;case"left":i.style.opacity="1",i.style.clipPath=`inset(0 ${100*(1-n)}% 0 0)`;break;case"right":i.style.opacity="1",i.style.clipPath=`inset(0 0 0 ${100*(1-n)}%)`;break;case"up":i.style.opacity="1",i.style.clipPath=`inset(0 0 ${100*(1-n)}% 0)`;break;case"down":i.style.opacity="1",i.style.clipPath=`inset(${100*(1-n)}% 0 0 0)`;break;case"zoom":i.style.opacity=n,i.style.transform=`scale(${.8+.2*n})`}else i.classList.remove("is-active","is-transitioning-in","is-transitioning-out"),i.style.opacity="0",i.style.zIndex="5"}))}(l,d,f),window.innerHeight,r.forEach((t=>{t.content&&t.sectionStart})),t.dataset.currentFrame=l,a=!1}function d(){a||(window.requestAnimationFrame(l),a=!0)}function f(){c(),l()}t._revealCleanup=function(){window.removeEventListener("scroll",d),window.removeEventListener("resize",f)},function(){c(),window.addEventListener("scroll",d,{passive:!0}),window.addEventListener("resize",f,{passive:!0});const e=t.querySelectorAll("img");let i=0;const n=e.length;e.forEach((t=>{t.complete?i++:(t.addEventListener("load",(()=>{i++,i===n&&(c(),l())})),t.addEventListener("error",(()=>{i++})))})),l(),t.dataset.initialized="true"}()}function e(){document.querySelectorAll(".caes-reveal").forEach((e=>{e.dataset.initialized||t(e)}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),"undefined"!=typeof MutationObserver&&new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{1===e.nodeType&&(e.classList?.contains("caes-reveal")&&t(e),e.querySelectorAll?.(".caes-reveal")?.forEach(t))}))}))})).observe(document.body,{childList:!0,subtree:!0})}();