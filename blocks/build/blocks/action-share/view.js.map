{"version":3,"file":"blocks/action-share/view.js","mappings":";;;;;;;;;AAAA;;;;;;SCAA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;;;ACNyE;;AAEzE;AACA;AACA;;AAEA,MAAM;EAAEG;AAAM,CAAC,GAAGH,+DAAK,CAAC,cAAc,EAAE;EACpCG,KAAK,EAAE;IACH,IAAIC,MAAMA,CAAA,EAAG;MACT,MAAMC,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5B,OAAOI,OAAO,CAACD,MAAM;IACzB;EACJ,CAAC;EACDE,OAAO,EAAE;IACLC,MAAM,EAAEA,CAAA,KAAM;MACV,MAAMF,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5BI,OAAO,CAACD,MAAM,GAAG,CAACC,OAAO,CAACD,MAAM;IACpC,CAAC;IACDI,eAAe,EAAEA,CAAA,KAAM;MACnB,MAAMH,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5B,MAAMQ,OAAO,GAAGJ,OAAO,CAACI,OAAO;MAC/B,MAAMC,gBAAgB,GAAG,gDAAgDC,kBAAkB,CAACF,OAAO,CAAC,EAAE;MACtGG,MAAM,CAACC,IAAI,CACPH,gBAAgB,EAChB,qBAAqB,EACrB,oFACJ,CAAC;IACL,CAAC;IACDI,QAAQ,EAAEA,CAAA,KAAM;MACZ,MAAMT,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5B,MAAMQ,OAAO,GAAGJ,OAAO,CAACI,OAAO;MAC/B,MAAMM,SAAS,GAAGJ,kBAAkB,CAACN,OAAO,CAACU,SAAS,CAAC;MACvD,MAAMC,eAAe,GAAG,wCAAwCL,kBAAkB,CAACF,OAAO,CAAC,SAASM,SAAS,EAAE;MAC/GH,MAAM,CAACC,IAAI,CACPG,eAAe,EACf,oBAAoB,EACpB,oFACJ,CAAC;IACL,CAAC;IACDC,gBAAgB,EAAEA,CAAA,KAAM;MACpB,MAAMZ,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5B,MAAMQ,OAAO,GAAGJ,OAAO,CAACI,OAAO;MAC/B,MAAMM,SAAS,GAAGJ,kBAAkB,CAACN,OAAO,CAACU,SAAS,CAAC;MACvD,MAAMG,SAAS,GAAGP,kBAAkB,CAACN,OAAO,CAACa,SAAS,CAAC;MACvD,MAAMC,iBAAiB,GAAG,oDAAoDR,kBAAkB,CAACF,OAAO,CAAC,UAAUS,SAAS,gBAAgBH,SAAS,EAAE;MACvJH,MAAM,CAACC,IAAI,CACPM,iBAAiB,EACjB,sBAAsB,EACtB,oFACJ,CAAC;IACL,CAAC;IACDC,eAAe,EAAEA,CAAA,KAAM;MACnB,MAAMf,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5B,MAAMQ,OAAO,GAAGJ,OAAO,CAACI,OAAO;MAC/B,MAAMM,SAAS,GAAGJ,kBAAkB,CAACN,OAAO,CAACU,SAAS,CAAC;MACvD,MAAMM,gBAAgB,GAAG,uDAAuDV,kBAAkB,CAACF,OAAO,CAAC,UAAUM,SAAS,EAAE;MAChIH,MAAM,CAACC,IAAI,CACPQ,gBAAgB,EAChB,qBAAqB,EACrB,oFACJ,CAAC;IACL,CAAC;IACDC,aAAa,EAAEA,CAAA,KAAM;MACjB,MAAMjB,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5B,MAAMQ,OAAO,GAAGJ,OAAO,CAACI,OAAO;MAC/B,MAAMM,SAAS,GAAGJ,kBAAkB,CAACN,OAAO,CAACU,SAAS,CAAC;MACvD,MAAMQ,cAAc,GAAG,qCAAqCZ,kBAAkB,CAACF,OAAO,CAAC,UAAUM,SAAS,EAAE;MAC5GH,MAAM,CAACC,IAAI,CACPU,cAAc,EACd,mBAAmB,EACnB,oFACJ,CAAC;IACL,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC,YAAY,EAAEA,CAAA,KAAM;MAChB,MAAMnB,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5B,MAAMQ,OAAO,GAAGJ,OAAO,CAACI,OAAO;MAC/B,MAAMM,SAAS,GAAGJ,kBAAkB,CAACN,OAAO,CAACU,SAAS,CAAC;MACvD,MAAMU,aAAa,GAAG,mBAAmBV,SAAS,SAASN,OAAO,EAAE;MACpEG,MAAM,CAACc,QAAQ,CAACC,IAAI,GAAGF,aAAa;IACxC,CAAC;IACDG,OAAO,EAAEA,CAAA,KAAM;MACX,MAAMvB,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5B,MAAMQ,OAAO,GAAGJ,OAAO,CAACI,OAAO,CAAC,CAAC;MACjC,MAAMoB,WAAW,GAAGC,QAAQ,CAACC,aAAa,CAAC,6BAA6B,CAAC;;MAEzE;MACAC,SAAS,CAACC,SAAS,CAACC,SAAS,CAACzB,OAAO,CAAC,CACjC0B,IAAI,CAAC,MAAM;QACR;QACAN,WAAW,CAACO,SAAS,GAAG,SAAS;QACjCP,WAAW,CAACQ,KAAK,CAACC,OAAO,GAAG,OAAO;;QAEnC;QACAC,UAAU,CAAC,MAAM;UACbV,WAAW,CAACQ,KAAK,CAACC,OAAO,GAAG,MAAM;QACtC,CAAC,EAAE,IAAI,CAAC;MACZ,CAAC,CAAC,CACDE,KAAK,CAAC,MAAM;QACT;QACAX,WAAW,CAACO,SAAS,GAAG,iBAAiB;QACzCP,WAAW,CAACQ,KAAK,CAACC,OAAO,GAAG,OAAO;QAEnCC,UAAU,CAAC,MAAM;UACbV,WAAW,CAACQ,KAAK,CAACC,OAAO,GAAG,MAAM;QACtC,CAAC,EAAE,IAAI,CAAC;MACZ,CAAC,CAAC;IACV;EACJ,CAAC;EACDG,SAAS,EAAE;IACPC,SAAS,EAAEA,CAAA,KAAM;MACb,MAAM;QAAEC;MAAI,CAAC,GAAGzC,oEAAU,CAAC,CAAC;MAC5B,MAAMG,OAAO,GAAGJ,oEAAU,CAAC,CAAC;MAC5B,IAAIE,KAAK,CAACC,MAAM,EAAE;QACduC,GAAG,CAACN,KAAK,CAACO,OAAO,GAAG,GAAG;QACvBD,GAAG,CAACN,KAAK,CAACQ,UAAU,GAAG,SAAS;QAChCN,UAAU,CAAC,MAAM;UACbI,GAAG,CAACG,SAAS,CAAC,CAAC;UACfH,GAAG,CAACN,KAAK,CAACO,OAAO,GAAG,GAAG;QAC3B,CAAC,EAAE,EAAE,CAAC;MACV,CAAC,MAAM;QACHD,GAAG,CAACN,KAAK,CAACO,OAAO,GAAG,GAAG;QACvBL,UAAU,CAAC,MAAM;UACbI,GAAG,CAACI,KAAK,CAAC,CAAC;UACXJ,GAAG,CAACN,KAAK,CAACQ,UAAU,GAAG,QAAQ;QACnC,CAAC,EAAE,GAAG,CAAC;MACX;MACA;MACAF,GAAG,CAACK,gBAAgB,CAAC,OAAO,EAAE,MAAM;QAChCL,GAAG,CAACN,KAAK,CAACQ,UAAU,GAAG,QAAQ;QAC/BF,GAAG,CAACN,KAAK,CAACO,OAAO,GAAG,GAAG;QACvBL,UAAU,CAAC,MAAM;UACblC,OAAO,CAACD,MAAM,GAAG,KAAK;QAC1B,CAAC,EAAE,GAAG,CAAC;MACX,CAAC,CAAC;IACN,CAAC;IACD6C,eAAe,EAAEA,CAACC,UAAU,EAAErB,WAAW,EAAEsB,OAAO,KAAK;MACnDtB,WAAW,CAACO,SAAS,GAAGe,OAAO;MAC/BtB,WAAW,CAACQ,KAAK,CAACC,OAAO,GAAG,OAAO;;MAEnC;MACA,MAAMc,IAAI,GAAGF,UAAU,CAACG,qBAAqB,CAAC,CAAC;MAC/CxB,WAAW,CAACQ,KAAK,CAACiB,IAAI,GAAG,GAAGF,IAAI,CAACE,IAAI,GAAG1C,MAAM,CAAC2C,WAAW,IAAI;MAC9D1B,WAAW,CAACQ,KAAK,CAACmB,GAAG,GAAG,GAAGJ,IAAI,CAACI,GAAG,GAAG5C,MAAM,CAAC6C,WAAW,GAAG,EAAE,IAAI,CAAC,CAAC;;MAEnE;MACAlB,UAAU,CAAC,MAAM;QACbV,WAAW,CAACQ,KAAK,CAACC,OAAO,GAAG,MAAM;MACtC,CAAC,EAAE,IAAI,CAAC;IACZ;EACJ;AACJ,CAAC,CAAC,C","sources":["webpack://theme-blocks/external module \"@wordpress/interactivity\"","webpack://theme-blocks/webpack/bootstrap","webpack://theme-blocks/webpack/runtime/make namespace object","webpack://theme-blocks/./src/blocks/action-share/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { store, getContext, getElement } from '@wordpress/interactivity';\n\n/* eslint-disable no-console */\n// console.log('action-share is here');\n/* eslint-enable no-console */\n\nconst { state } = store(\"action-share\", {\n    state: {\n        get isOpen() {\n            const context = getContext();\n            return context.isOpen;\n        }\n    },\n    actions: {\n        toggle: () => {\n            const context = getContext();\n            context.isOpen = !context.isOpen;\n        },\n        shareOnFacebook: () => {\n            const context = getContext();\n            const postUrl = context.postUrl;\n            const facebookShareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(postUrl)}`;\n            window.open(\n                facebookShareUrl,\n                'facebookShareWindow',\n                'width=500,height=500,top=100,left=100,toolbar=0,menubar=0,scrollbars=1,resizable=1'\n            );\n        },\n        shareOnX: () => {\n            const context = getContext();\n            const postUrl = context.postUrl;\n            const postTitle = encodeURIComponent(context.postTitle);\n            const twitterShareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(postUrl)}&text=${postTitle}`;\n            window.open(\n                twitterShareUrl,\n                'twitterShareWindow',\n                'width=500,height=500,top=100,left=100,toolbar=0,menubar=0,scrollbars=1,resizable=1'\n            );\n        },\n        shareOnPinterest: () => {\n            const context = getContext();\n            const postUrl = context.postUrl;\n            const postTitle = encodeURIComponent(context.postTitle);\n            const postImage = encodeURIComponent(context.postImage);\n            const pinterestShareUrl = `https://www.pinterest.com/pin/create/button/?url=${encodeURIComponent(postUrl)}&media=${postImage}&description=${postTitle}`;\n            window.open(\n                pinterestShareUrl,\n                'pinterestShareWindow',\n                'width=500,height=500,top=100,left=100,toolbar=0,menubar=0,scrollbars=1,resizable=1'\n            );\n        },\n        shareOnLinkedIn: () => {\n            const context = getContext();\n            const postUrl = context.postUrl;\n            const postTitle = encodeURIComponent(context.postTitle);\n            const linkedInShareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(postUrl)}&title=${postTitle}`;\n            window.open(\n                linkedInShareUrl,\n                'linkedInShareWindow',\n                'width=500,height=500,top=100,left=100,toolbar=0,menubar=0,scrollbars=1,resizable=1'\n            );\n        },\n        shareOnReddit: () => {\n            const context = getContext();\n            const postUrl = context.postUrl;\n            const postTitle = encodeURIComponent(context.postTitle);\n            const redditShareUrl = `https://www.reddit.com/submit?url=${encodeURIComponent(postUrl)}&title=${postTitle}`;\n            window.open(\n                redditShareUrl,\n                'redditShareWindow',\n                'width=500,height=500,top=100,left=100,toolbar=0,menubar=0,scrollbars=1,resizable=1'\n            );\n        },\n        // shareOnPocket: () => {\n        //     const context = getContext();\n        //     const postUrl = context.postUrl;\n        //     const pocketShareUrl = `https://getpocket.com/save?url=${encodeURIComponent(postUrl)}`;\n        //     window.open(\n        //         pocketShareUrl,\n        //         'pocketShareWindow',\n        //         'width=500,height=500,top=100,left=100,toolbar=0,menubar=0,scrollbars=1,resizable=1'\n        //     );\n        // },\n        shareByEmail: () => {\n            const context = getContext();\n            const postUrl = context.postUrl;\n            const postTitle = encodeURIComponent(context.postTitle);\n            const emailShareUrl = `mailto:?subject=${postTitle}&body=${postUrl}`;\n            window.location.href = emailShareUrl;\n        },\n        copyUrl: () => {\n            const context = getContext();\n            const postUrl = context.postUrl; // Get the post URL from the context\n            const copyMessage = document.querySelector('.caes-hub-copy-url__tooltip');\n            \n            // Use modern Clipboard API to copy the URL\n            navigator.clipboard.writeText(postUrl)\n                .then(() => {\n                    // Display success message\n                    copyMessage.innerText = \"Copied!\";\n                    copyMessage.style.display = 'block';\n\n                    // Hide the message after 2 seconds\n                    setTimeout(() => {\n                        copyMessage.style.display = 'none';\n                    }, 2000);\n                })\n                .catch(() => {\n                    // Display error message if copying fails\n                    copyMessage.innerText = \"Failed to copy!\";\n                    copyMessage.style.display = 'block';\n\n                    setTimeout(() => {\n                        copyMessage.style.display = 'none';\n                    }, 2000);\n                });\n        }\n    },\n    callbacks: {\n        openModal: () => {\n            const { ref } = getElement();\n            const context = getContext();\n            if (state.isOpen) {\n                ref.style.opacity = '0';\n                ref.style.visibility = 'visible';\n                setTimeout(() => {\n                    ref.showModal();\n                    ref.style.opacity = '1';\n                }, 10);\n            } else {\n                ref.style.opacity = '0';\n                setTimeout(() => {\n                    ref.close();\n                    ref.style.visibility = 'hidden';\n                }, 300);\n            }\n            // Make sure the modal is closed when the user hits escape\n            ref.addEventListener('close', () => {\n                ref.style.visibility = 'hidden';\n                ref.style.opacity = '0';\n                setTimeout(() => {\n                    context.isOpen = false;\n                }, 300);\n            });\n        },\n        showCopyTooltip: (copyButton, copyMessage, message) => {\n            copyMessage.innerText = message;\n            copyMessage.style.display = 'block';\n            \n            // Position the tooltip above the button\n            const rect = copyButton.getBoundingClientRect();\n            copyMessage.style.left = `${rect.left + window.pageXOffset}px`;\n            copyMessage.style.top = `${rect.top + window.pageYOffset - 30}px`; // Adjust the position above the button\n            \n            // Hide the tooltip after 2 seconds\n            setTimeout(() => {\n                copyMessage.style.display = 'none';\n            }, 2000);\n        }\n    },\n});"],"names":["store","getContext","getElement","state","isOpen","context","actions","toggle","shareOnFacebook","postUrl","facebookShareUrl","encodeURIComponent","window","open","shareOnX","postTitle","twitterShareUrl","shareOnPinterest","postImage","pinterestShareUrl","shareOnLinkedIn","linkedInShareUrl","shareOnReddit","redditShareUrl","shareByEmail","emailShareUrl","location","href","copyUrl","copyMessage","document","querySelector","navigator","clipboard","writeText","then","innerText","style","display","setTimeout","catch","callbacks","openModal","ref","opacity","visibility","showModal","close","addEventListener","showCopyTooltip","copyButton","message","rect","getBoundingClientRect","left","pageXOffset","top","pageYOffset"],"sourceRoot":""}