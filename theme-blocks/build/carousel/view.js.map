{"version":3,"file":"carousel/view.js","mappings":"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","sources":["webpack://theme-blocks/./src/carousel/view.js"],"sourcesContent":["document.querySelectorAll('.wp-block-caes-hub-carousel').forEach((carousel) => {\n    const slides = carousel.querySelectorAll('.caes-hub-carousel-slide');\n    const nextButton = carousel.querySelector('.btn-next');\n    const prevButton = carousel.querySelector('.btn-prev');\n    const playPauseButton = carousel.querySelector('.btn-pause');\n    const slideNavButtons = carousel.querySelectorAll('.caes-hub-carousel-nav button');\n\n    let currentSlide = 0;\n    let autoplay = true;\n    let intervalId;\n\n    // Live region for accessibility\n    const liveregion = document.createElement('div');\n    liveregion.setAttribute('aria-live', 'polite');\n    liveregion.setAttribute('aria-atomic', 'true');\n    liveregion.setAttribute('class', 'liveregion sr-only');\n    carousel.appendChild(liveregion);\n\n    function updateCarousel() {\n        slides.forEach((slide, index) => {\n            if (index === currentSlide) {\n                slide.style.opacity = '1';\n                slide.style.visibility = 'visible';\n                slide.setAttribute('aria-hidden', 'false');\n            } else {\n                slide.style.opacity = '0';\n                slide.style.visibility = 'hidden';\n                slide.setAttribute('aria-hidden', 'true');\n            }\n        });\n\n        slideNavButtons.forEach((button, index) => {\n            if (index === currentSlide) {\n                button.classList.add('current');\n            } else {\n                button.classList.remove('current');\n            }\n        });\n\n        playPauseButton.setAttribute('aria-pressed', autoplay);\n        playPauseButton.innerHTML = autoplay\n            ? '<span class=\"sr-only\">Stop Slides</span>'\n            : '<span class=\"sr-only\">Start Slides</span>';\n    }\n\n\n    function nextSlide() {\n        currentSlide = (currentSlide + 1) % slides.length;\n        updateCarousel();\n        liveregion.textContent = `Item ${currentSlide + 1} of ${slides.length}.`; // Announce slide\n    }\n\n    function previousSlide() {\n        currentSlide = (currentSlide - 1 + slides.length) % slides.length;\n        updateCarousel();\n        liveregion.textContent = `Item ${currentSlide + 1} of ${slides.length}.`; // Announce slide\n    }\n\n    function goToSlide(index) {\n        currentSlide = index;\n        updateCarousel();\n        liveregion.textContent = `Item ${currentSlide + 1} of ${slides.length}.`; // Announce slide\n    }\n\n    function play() {\n        autoplay = true;\n        intervalId = setInterval(nextSlide, 8000);\n    }\n\n    function pause() {\n        autoplay = false;\n        clearInterval(intervalId);\n    }\n\n    nextButton.addEventListener('click', () => {\n        pause();\n        nextSlide();\n    });\n\n    prevButton.addEventListener('click', () => {\n        pause();\n        previousSlide();\n    });\n\n    playPauseButton.addEventListener('click', () => {\n        if (autoplay) {\n            pause();\n        } else {\n            play();\n        }\n        updateCarousel(); // Update after toggling autoplay\n    });\n\n    slideNavButtons.forEach((button, index) => {\n        button.addEventListener('click', () => {\n            pause();\n            goToSlide(index);\n        });\n\n        button.addEventListener('keydown', (event) => {\n            if (event.key === 'Enter' || event.key === ' ') {\n                pause();\n                goToSlide(index);\n                event.preventDefault();\n            }\n        });\n    });\n\n    // Preload images\n    slides.forEach((slide) => {\n        const img = new Image();\n        img.src = slide.style.backgroundImage.replace(/url\\((['\"])?(.*?)\\1\\)/gi, '$2');\n    });\n\n    // Initialize the carousel\n    updateCarousel();\n\n    // Start autoplay if enabled\n    if (autoplay) {\n        play();\n    }\n});\n"],"names":["document","querySelectorAll","forEach","carousel","slides","nextButton","querySelector","prevButton","playPauseButton","slideNavButtons","currentSlide","autoplay","intervalId","liveregion","createElement","setAttribute","appendChild","updateCarousel","slide","index","style","opacity","visibility","button","classList","add","remove","innerHTML","nextSlide","length","textContent","previousSlide","goToSlide","play","setInterval","pause","clearInterval","addEventListener","event","key","preventDefault","img","Image","src","backgroundImage","replace"],"sourceRoot":""}